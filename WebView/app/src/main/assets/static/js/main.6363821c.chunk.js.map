{"version":3,"sources":["images/entry.jpg","images/house.jpg","images/livingroom.jpg","serviceWorker.ts","store/actions/doLogin.ts","store/actions/doRegistration.ts","store/actions/doUserApiUpdate.ts","store/actions/doUserUpdate.ts","store/actions/post.ts","store/actions/sync.ts","store/actions/syncWeather.ts","store/AppState.ts","store/actions/getLoggedInUser.ts","store/UiState.ts","store/index.ts","components/form/ApiForm.tsx","components/form/RegisterForm.tsx","components/pages/Account.tsx","components/pages/Api.tsx","components/content/Callout.tsx","components/content/Knob.tsx","components/content/ChartCard.tsx","components/content/ChartCards.tsx","components/content/ChartCardsControlled.tsx","components/content/IconCard.tsx","components/content/IconCards.tsx","helpers/hookHelpers/useInterval.ts","components/content/Power.tsx","components/content/VideoFeed.tsx","components/content/LiveMonitors.tsx","components/content/Controls.tsx","components/content/Status.tsx","components/pages/Dashboard.tsx","components/pages/Error404.tsx","components/footer/Footer.tsx","components/header/NavLink.tsx","components/header/SideMenu.tsx","components/header/SideNavToggler.tsx","components/header/Notification.tsx","components/header/TopMenu.tsx","components/header/Header.tsx","components/content/LightSwitch.tsx","components/pages/Lights.tsx","components/form/LoginForm.tsx","components/pages/Login.tsx","components/Loading.tsx","HOC/PrivateRoute.tsx","components/pages/Register.tsx","components/Error.tsx","components/content/WeatherCard.tsx","components/content/WeatherStation.tsx","components/pages/Weather.tsx","App.tsx","index.tsx"],"names":["module","exports","Boolean","window","location","hostname","match","doLogin","username","password","forceFail","Promise","resolve","reject","setTimeout","userFind","localStorage","getItem","JSON","parse","filter","user","length","setItem","error","doRegistration","obj","lastname","name","sex","passwordConfirm","users","userAlreadyExists","newUser","push","stringify","doUpdateUser","currentUser","currentUserApiObj","api","newUserApiObj","freshUsers","map","rest","updatingPassword","requiredFieldMissing","postApiUrl","data","a","axios","post","postResponse","console","alertsJson","require","lightsJson","messagesJson","monitorsJson","buildNewState","coolingCompressorOn","fanOn","heatingCompressorOn","heatingElementOn","mainFloorTemp","outsideHumidity","outsideTemp","chartCards","description","id","ident","title","type","value","iconCards","icon","iconCardsMonitored","chartCardsControlled","controled","disabled","max","min","randomIntFromInterval","alerts","lights","messages","status","fakeFetch","Math","floor","random","validateResponse","valid","latency","apiEndPoint","r","get","response","Error","lat","lon","apiId","getWeather","getForecast","position","all","then","spread","weather","forecast","currentWeather","configure","enforceActions","newYorkPosition","AppState","rootStore","this","dismissNotification","bind","loadWeather","login","register","setValue","syncStateWithServer","updateUser","updateUserApi","notification","targetId","updating","weatherApiId","navigator","geolocation","getCurrentPosition","newLatitude","coords","latitude","newLongitude","longitude","syncWeather","now","Date","action","lastUpdate","valueOf","loaded","catch","err","doUserUpdate","doUserApiUpdate","controlsInitialized","objKey","postObj","info","table","syncApiUrl","sync","observable","loggedInUsername","getLoggedInUser","computed","UiState","struct","onresize","setWindowDimensions","windowDimensions","width","sideNavOpen","toggleSideNav","collapseMenu","menuCollapsed","_windowDimensions","document","body","classList","remove","add","height","innerHeight","innerWidth","pendingRequestCount","storeDefaultProps","locationDefaultProps","RootStore","appStore","uiStore","useRef","React","useState","samplePostObj","inject","observer","props","store","userApi","pristine","submitting","initState","state","setState","weatherApiIdRef","postApiUrldRef","submitDisabled","handleChange","event","currentTarget","s","handleKeyPress","key","current","focus","handleSubmit","String","onSubmit","className","role","htmlFor","onChange","onKeyPress","placeholder","ref","href","target","rel","onClick","aria-hidden","optionalFields","readOnlyFields","submitButtonLabel","initialValues","passwordRef","passwordConfirmRef","lastnameRef","nameRef","sexRef","includes","resolveSubmission","readOnly","checked","to","Api","sampleData","Callout","titleExtra","Knob","angleArc","angleOffset","canvasRef","cursorExt","digits","endAngle","h","lineWidth","radius","startAngle","touchIndex","w","xy","getArcToValue","v","angle","log","pow","clockwise","cursor","acw","getCanvasScale","ctx","devicePixelRatio","webkitBackingStorePixelRatio","coerceToStep","val","step","abs","isNaN","round","eventToValue","e","bounds","getBoundingClientRect","x","clientX","left","y","clientY","top","atan2","PI","handleMouseDown","addEventListener","handleMouseMove","handleMouseUp","handleEsc","preventDefault","onChangeEnd","removeEventListener","handleTouchStart","targetTouches","handleTouchMove","passive","handleTouchEnd","keyCode","handleTextInput","handleWheel","disableMouseWheel","deltaX","deltaY","handleArrowKey","inputStyle","MozAppearance","WebkitAppearance","appearance","background","border","color","inputColor","fgColor","font","fontWeight","marginLeft","marginTop","padding","textAlign","verticalAlign","renderCenter","displayCustom","displayInput","disableTextInput","onKeyDown","style","drawCanvas","prevProps","getContext","scale","thickness","lineCap","beginPath","strokeStyle","bgColor","arc","stroke","canvasClassName","display","onWheel","onMouseDown","defaultProps","undefined","newValue","stopper","storeKey","passedValue","timeouts","setStateValue","cls","errorLabel","valueText","chartLabel","clearTimeout","changeTimeout","dangerouslySetInnerHTML","__html","ChartCards","cards","cardElms","chartCard","ChartCardsControlled","monitored","isOn","toggleLabel","monitorLabel","IconCards","iconCard","useEffect","useInterval","callback","delay","savedCallback","setInterval","clearInterval","monthNames","getChartMonthLabels","mNames","date","i","getMonth","kWhPrice","kWh","powerUsed","monthDaysTotal","Number","parseFloat","getDate","getHours","toString","toFixed","todayTotal","getMinutes","getSeconds","total","average","cooling","heating","hotWater","lighting","outlets","monthName","getPowerUsed","Power","powerCost","hours","getPowerCost","chartData","datasets","fillColor","label","getFullYear","pointColor","pointHighlightFill","pointHighlightStroke","pointStrokeColor","strokeColor","labels","options","bezierCurve","bezierCurveTension","datasetFill","datasetStroke","datasetStrokeWidth","legendTemplate","offsetGridLines","pointDot","pointDotRadius","pointDotStrokeWidth","pointHitDetectionRadius","scaleGridLineColor","scaleGridLineWidth","scaleShowGridLines","scaleShowHorizontalLines","scaleShowVerticalLines","overflow","scope","VideoFeed","images","activeIndex","setActiveIndex","randomImage","link","totalImages","src","alt","LiveMonitors","houseJpg","livingroomJpg","entryJpg","Status","particleOps","particles","line_linked","distance","enable","opacity","move","attract","rotateX","rotateY","bounce","direction","MoveDirection","none","out_mode","OutMode","out","speed","straight","number","density","value_area","anim","opacity_min","shape","image","polygon","nb_sides","size","size_min","interactivity","detect_on","InteractivityDetect","canvas","events","onclick","mode","onhover","resize","modes","bubble","duration","grab","particles_nb","repulse","retina_detect","Error404","params","xmlns","viewBox","cx","cy","d","fill","Footer","currentYear","NavLink","children","onMenuClick","pathname","SideMenu","Notification","expanded","toggle","closeOnOutsideClick","notificationCount","notifications","tooltipId","data-tip","data-for","toLowerCase","aria-expanded","aria-haspopup","data-toggle","aria-labelledby","TransitionGroup","notificationObj","CSSTransition","timeout","classNames","aria-label","content","reactOnclickoutside","userFullName","logout","handleMenuClick","data-target","aria-controls","group","groupLabel","switchId","groups","light","hasOwnProperty","groupsArr","groupKey","lightsArr","cardRows","temp","count","row","firstLight","from","forgotPassword","setForgotPassword","logginCls","isLoggedIn","data-dismiss","Loading","PrivateRoute","Component","component","render","WeatherCard","header","high","humidity","low","minimal","subTitle","update","wind","momentDate","moment","unix","dateText","format","city","weatherCards","list","dt_txt","split","dt","main","temp_max","temp_min","charAt","toUpperCase","slice","syncApiUrlInState","setSyncApiUrlInState","Account","exact","path","Dashboard","Lights","Weather","Login","Register","routingStore","RouterStore","storeInstance","ReactDOM","routing","getElementById","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.6363821c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/entry.99110196.jpg\";","module.exports = __webpack_public_path__ + \"static/media/house.6a59cdc8.jpg\";","module.exports = __webpack_public_path__ + \"static/media/livingroom.26d686dd.jpg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { IUserObj } from '../AppState';\r\n\r\nexport default function doLogin(\r\n  username: string,\r\n  password: string,\r\n  forceFail?: boolean\r\n): Promise<IUserObj | string> {\r\n  return new Promise((resolve, reject) => {\r\n    try {\r\n      setTimeout(() => {\r\n        const users: IUserObj[] =\r\n          window.localStorage.getItem('hcdUsers') === null\r\n            ? []\r\n            : JSON.parse(window.localStorage.getItem('hcdUsers') as string);\r\n        const userFind = users.filter(\r\n          (user) => user.username === username && user.password === password\r\n        );\r\n        const user = userFind.length ? userFind[0] : null;\r\n        if (forceFail || user === null) {\r\n          resolve('Username or password are invalid.');\r\n        } else {\r\n          if (user.username) {\r\n            window.localStorage.setItem('hcdLoggedIn', user.username);\r\n          }\r\n          resolve(user);\r\n        }\r\n      }, 1000);\r\n    } catch (error) {\r\n      resolve('Unknown error has occurred.');\r\n    }\r\n  });\r\n}\r\n","import { IUserObj, IRegisterObj } from '../AppState';\r\n\r\nexport default function doRegistration(obj: IRegisterObj): Promise<IUserObj | string> {\r\n  return new Promise((resolve, reject) => {\r\n    try {\r\n      setTimeout(() => {\r\n        const { lastname, name, password, sex, username, passwordConfirm } = obj;\r\n        const users: IUserObj[] =\r\n          window.localStorage.getItem('hcdUsers') === null\r\n            ? []\r\n            : JSON.parse(window.localStorage.getItem('hcdUsers') as string);\r\n        const userFind = users.filter((user) => user.username === username);\r\n        const userAlreadyExists = userFind.length > 0 ? true : false;\r\n\r\n        if (password !== passwordConfirm) {\r\n          resolve('Password and password confirmation do not match.');\r\n        } else if (userAlreadyExists) {\r\n          resolve('Username is already taken.');\r\n        } else {\r\n          const newUser = { lastname, name, password, sex, username };\r\n          users.push(newUser);\r\n          if (username) {\r\n            window.localStorage.setItem('hcdLoggedIn', username);\r\n          }\r\n          window.localStorage.setItem('hcdUsers', JSON.stringify(users));\r\n          resolve(newUser);\r\n        }\r\n      }, 1000);\r\n    } catch (error) {\r\n      resolve('Unknown error has occurred.');\r\n    }\r\n  });\r\n}\r\n","import { IUserObj, IUserApiObj } from '../AppState';\r\n\r\nexport default function doUpdateUser(\r\n  obj: IUserApiObj = {},\r\n  currentUser: IUserObj\r\n): Promise<IUserObj | string> {\r\n  return new Promise((resolve, reject) => {\r\n    try {\r\n      setTimeout(() => {\r\n        const users: IUserObj[] =\r\n          window.localStorage.getItem('hcdUsers') === null\r\n            ? []\r\n            : JSON.parse(window.localStorage.getItem('hcdUsers') as string);\r\n\r\n        const currentUserApiObj = currentUser.api ? currentUser.api : {};\r\n        const newUserApiObj: IUserApiObj = {\r\n          ...currentUserApiObj,\r\n          ...obj,\r\n        };\r\n        const newUser: IUserObj = { ...currentUser, api: newUserApiObj };\r\n\r\n        const freshUsers = users.map((user) =>\r\n          user.username === currentUser.username ? newUser : user\r\n        );\r\n        window.localStorage.setItem('hcdUsers', JSON.stringify(freshUsers));\r\n        resolve(newUser);\r\n      }, 500);\r\n    } catch (error) {\r\n      resolve('Unknown error has occurred.');\r\n    }\r\n  });\r\n}\r\n","import { IUserObj, IRegisterObj } from '../AppState';\r\n\r\nexport default function doUpdateUser(\r\n  obj: IRegisterObj,\r\n  currentUser: IUserObj\r\n): Promise<IUserObj | string> {\r\n  return new Promise((resolve, reject) => {\r\n    try {\r\n      setTimeout(() => {\r\n        const users: IUserObj[] =\r\n          window.localStorage.getItem('hcdUsers') === null\r\n            ? []\r\n            : JSON.parse(window.localStorage.getItem('hcdUsers') as string);\r\n\r\n        const { password, username, passwordConfirm, ...rest } = obj;\r\n        const updatingPassword = password || passwordConfirm;\r\n        const newUser: IUserObj = {\r\n          ...currentUser,\r\n          ...rest,\r\n          username: currentUser.username,\r\n          password: updatingPassword ? password : currentUser.password,\r\n        };\r\n        const requiredFieldMissing = !obj.name || !obj.lastname || !obj.sex;\r\n\r\n        if (updatingPassword && password !== passwordConfirm) {\r\n          resolve('Password and password confirmation do not match.');\r\n        } else if (requiredFieldMissing) {\r\n          resolve('Required fields are missing.');\r\n        } else {\r\n          const freshUsers = users.map((user) =>\r\n            user.username === currentUser.username ? newUser : user\r\n          );\r\n          window.localStorage.setItem('hcdUsers', JSON.stringify(freshUsers));\r\n          resolve(newUser);\r\n        }\r\n      }, 500);\r\n    } catch (error) {\r\n      resolve('Unknown error has occurred.');\r\n    }\r\n  });\r\n}\r\n","import axios from 'axios';\r\n\r\nexport default async function post(postApiUrl: string, data: { [key: string]: any }) {\r\n  try {\r\n    const postResponse = await axios.post(postApiUrl, data);\r\n    return postResponse;\r\n  } catch (error) {\r\n    console.error('Unable to post values. Error has occured');\r\n    console.error(error);\r\n    return null;\r\n  }\r\n}\r\n","import { IChartCardOwnProps } from '../../components/content/ChartCard';\r\nimport { IIconCardOwnProps } from '../../components/content/IconCard';\r\nimport { ILightSwitch } from '../../components/content/LightSwitch';\r\nimport { INotification } from '../../components/header/Notification';\r\nimport axios, { AxiosResponse } from 'axios';\r\n\r\nconst alertsJson = require('../data/alerts.json');\r\nconst lightsJson = require('../data/lights.json');\r\nconst messagesJson = require('../data/messages.json');\r\nconst monitorsJson = require('../data/monitors.json');\r\nexport interface IApiResponse {\r\n  coolingCompressorOn: boolean;\r\n  fanOn: boolean;\r\n  heatingCompressorOn: boolean;\r\n  heatingElementOn: boolean;\r\n  mainFloorTemp: number;\r\n  outsideHumidity: number;\r\n  outsideTemp: number;\r\n}\r\n\r\ninterface ISyncResponse {\r\n  alerts: INotification[];\r\n  chartCards: IChartCardOwnProps[];\r\n  chartCardsControlled: IChartCardOwnProps[];\r\n  iconCards: IIconCardOwnProps[];\r\n  iconCardsMonitored: IIconCardOwnProps[];\r\n  lights: ILightSwitch[];\r\n  messages: INotification[];\r\n  status: string;\r\n}\r\n\r\nfunction buildNewState(obj: IApiResponse): ISyncResponse {\r\n  const {\r\n    coolingCompressorOn = false,\r\n    fanOn = false,\r\n    heatingCompressorOn = false,\r\n    heatingElementOn = false,\r\n    mainFloorTemp = 0,\r\n    outsideHumidity = 0,\r\n    outsideTemp = 0,\r\n  } = obj;\r\n\r\n  const statuses = ['online', 'offline', 'error', 'syncing'];\r\n  const status = statuses[0];\r\n  const chartCards = [\r\n    {\r\n      description: 'Current exterior temperature.',\r\n      id: 1,\r\n      ident: 'temp',\r\n      title: 'Temperature',\r\n      type: 'temperature',\r\n      value: outsideTemp,\r\n    },\r\n    {\r\n      description: 'Current exterior humidity.',\r\n      id: 2,\r\n      ident: 'humi',\r\n      title: 'Humidty',\r\n      type: 'humidty',\r\n      value: outsideHumidity,\r\n    },\r\n  ];\r\n\r\n  const iconCards = [\r\n    {\r\n      icon: 'fab fa-superpowers',\r\n      id: 1,\r\n      ident: 'fan',\r\n      title: 'Main fan',\r\n      type: 'success',\r\n      value: fanOn,\r\n    },\r\n    {\r\n      icon: 'fas fa-thermometer-three-quarters',\r\n      id: 2,\r\n      ident: 'heatingCompressor',\r\n      title: 'Heating compressor',\r\n      type: 'success',\r\n      value: heatingCompressorOn,\r\n    },\r\n    {\r\n      icon: 'fas fa-fire',\r\n      id: 3,\r\n      ident: 'heatingElement',\r\n      title: 'Heating element',\r\n      type: 'success',\r\n      value: heatingElementOn,\r\n    },\r\n    {\r\n      icon: 'fas fa-thermometer-empty',\r\n      id: 4,\r\n      ident: 'coolingCompressor',\r\n      title: 'Cooling compressor',\r\n      type: 'success',\r\n      value: coolingCompressorOn,\r\n    },\r\n  ];\r\n\r\n  const iconCardsMonitored = monitorsJson;\r\n\r\n  const chartCardsControlled = [\r\n    {\r\n      controled: true,\r\n      description: 'Control second floor temperature.',\r\n      disabled: true,\r\n      id: 1,\r\n      ident: 'secondFloorTemp',\r\n      max: 40,\r\n      min: 0,\r\n      title: 'Second Floor',\r\n      type: 'temperature',\r\n      value: randomIntFromInterval(18, 20),\r\n    },\r\n    {\r\n      controled: true,\r\n      description: 'Control main floor temperature.',\r\n      disabled: false,\r\n      id: 2,\r\n      ident: 'mainFloorTemp',\r\n      max: 40,\r\n      min: 0,\r\n      title: 'Main Floor',\r\n      type: 'temperature',\r\n      value: mainFloorTemp,\r\n    },\r\n    {\r\n      controled: true,\r\n      description: 'Control basement floor temperature.',\r\n      disabled: true,\r\n      id: 3,\r\n      ident: 'basementFloorTemp',\r\n      max: 40,\r\n      min: 0,\r\n      title: 'Basement Floor',\r\n      type: 'temperature',\r\n      value: randomIntFromInterval(20, 25),\r\n    },\r\n  ];\r\n\r\n  return {\r\n    alerts: alertsJson,\r\n    chartCards,\r\n    chartCardsControlled,\r\n    iconCards,\r\n    iconCardsMonitored,\r\n    lights: lightsJson,\r\n    messages: messagesJson,\r\n    status,\r\n  };\r\n}\r\n\r\nfunction fakeFetch(): Promise<IApiResponse> {\r\n  return Promise.resolve({\r\n    coolingCompressorOn: false,\r\n    fanOn: false,\r\n    heatingCompressorOn: false,\r\n    heatingElementOn: false,\r\n    mainFloorTemp: randomIntFromInterval(18, 22),\r\n    outsideHumidity: randomIntFromInterval(34, 89),\r\n    outsideTemp: randomIntFromInterval(7, 25),\r\n  });\r\n}\r\n\r\nfunction randomIntFromInterval(min: number, max: number) {\r\n  return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\r\n\r\nfunction validateResponse(data: IApiResponse) {\r\n  let valid = true;\r\n  if (!data || typeof data !== 'object') {\r\n    valid = false;\r\n  }\r\n  return valid;\r\n}\r\n\r\nexport default async function sync(latency = 0, apiEndPoint?: string): Promise<ISyncResponse> {\r\n  try {\r\n    if (latency > 0) {\r\n      await new Promise((r) => setTimeout(r, latency));\r\n    }\r\n    if (apiEndPoint) {\r\n      const response: AxiosResponse<IApiResponse> = await axios.get(apiEndPoint);\r\n      const responseIsValid = validateResponse(response.data);\r\n      if (!responseIsValid) {\r\n        throw Error('API endpoint returned invalid data');\r\n      }\r\n      return buildNewState(response.data);\r\n    }\r\n    const response = await fakeFetch();\r\n    return buildNewState(response);\r\n  } catch (error) {\r\n    console.error('An error has occured in the sync function. Returning dummy state.');\r\n    const response = await fakeFetch();\r\n    return buildNewState(response);\r\n  }\r\n}\r\n","import axios from 'axios';\r\nimport { IForecastObj, IWeatherStationObj } from '../../components/content/WeatherStation';\r\nimport { IWeatherBase } from '../AppState';\r\n\r\ninterface IPosition {\r\n  lat: number;\r\n  lon: number;\r\n}\r\n// a40aead15bf642aab90b78be6ff65135\r\nexport default async function syncWeather(\r\n  lat: number,\r\n  lon: number,\r\n  apiId: string\r\n): Promise<IWeatherBase> {\r\n  const position = {\r\n    lat,\r\n    lon,\r\n  };\r\n\r\n  function getWeather(position: IPosition) {\r\n    return axios.get(\r\n      `https://api.openweathermap.org/data/2.5/weather?lat=${position.lat}&lon=${position.lon}&mode=json&units=metric&APPID=${apiId}`\r\n    );\r\n  }\r\n\r\n  function getForecast(position: IPosition) {\r\n    return axios.get(\r\n      `https://api.openweathermap.org/data/2.5/forecast?lat=${position.lat}&lon=${position.lon}&mode=json&units=metric&APPID=${apiId}`\r\n    );\r\n  }\r\n\r\n  return axios.all([getWeather(position), getForecast(position)]).then(\r\n    axios.spread((weather, forecast) => {\r\n      const obj = {\r\n        currentWeather: weather.data as IWeatherStationObj,\r\n        forecast: forecast.data as IForecastObj,\r\n      };\r\n      return obj;\r\n    })\r\n  );\r\n}\r\n","import { action, computed, configure, observable } from 'mobx';\r\nimport { IChartCardOwnProps } from '../components/content/ChartCard';\r\nimport { IForecastObj, IWeatherStationObj } from '../components/content/WeatherStation';\r\nimport { IIconCardOwnProps } from '../components/content/IconCard';\r\nimport { ILightSwitch } from '../components/content/LightSwitch';\r\nimport { INotification } from '../components/header/Notification';\r\nimport doLogin from './actions/doLogin';\r\nimport doRegistration from './actions/doRegistration';\r\nimport doUserApiUpdate from './actions/doUserApiUpdate';\r\nimport doUserUpdate from './actions/doUserUpdate';\r\nimport getLoggedInUser from './actions/getLoggedInUser';\r\nimport post from './actions/post';\r\nimport RootStore from '.';\r\nimport sync from './actions/sync';\r\nimport syncWeather from './actions/syncWeather';\r\n\r\n// don't allow state modifications outside actions\r\nconfigure({ enforceActions: 'observed' });\r\n\r\nexport type IDismissNotification = (notification: string, id: number) => void;\r\n\r\nexport interface IGenericObj {\r\n  id: number;\r\n  key: string;\r\n  value: any;\r\n}\r\n\r\nexport interface IUserApiObj {\r\n  postApiUrl?: string;\r\n  syncApiUrl?: string;\r\n  weatherApiId?: string;\r\n}\r\nexport interface IUserObj {\r\n  api?: IUserApiObj;\r\n  lastname?: string;\r\n  name?: string;\r\n  password?: string;\r\n  sex?: string;\r\n  username?: string;\r\n}\r\n\r\nexport interface IRegisterObj extends IUserObj {\r\n  passwordConfirm?: string;\r\n}\r\n\r\nexport interface IWeatherBase {\r\n  currentWeather?: IWeatherStationObj;\r\n  forecast?: IForecastObj;\r\n}\r\n\r\nexport interface IWeather extends IWeatherBase {\r\n  error?: string | null;\r\n  lastUpdate?: number;\r\n  loaded: boolean;\r\n  store?: RootStore;\r\n  updating: boolean;\r\n}\r\n\r\nexport const defaultPosition = {\r\n  lat: 46.8921,\r\n  lon: -71.2732,\r\n};\r\n\r\nexport const newYorkPosition = {\r\n  lat: 40.73061,\r\n  lon: -73.935242,\r\n};\r\n\r\nconst getPosition = (): Promise<{ lat: number; lon: number }> => {\r\n  return new Promise((resolve) => {\r\n    if (navigator.geolocation) {\r\n      return navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          const newLatitude = position.coords.latitude;\r\n          const newLongitude = position.coords.longitude;\r\n\r\n          resolve({ lat: newLatitude, lon: newLongitude });\r\n        },\r\n        (error) => {\r\n          console.error(error);\r\n          return resolve(newYorkPosition);\r\n        }\r\n      );\r\n    }\r\n  });\r\n};\r\nexport default class AppState {\r\n  rootStore: RootStore;\r\n\r\n  @observable alerts: INotification[] = [];\r\n  @observable chartCards: IChartCardOwnProps[] = [];\r\n  @observable chartCardsControlled: IChartCardOwnProps[] = [];\r\n  @observable controlsInitialized = false;\r\n  @observable iconCards: IIconCardOwnProps[] = [];\r\n  @observable iconCardsMonitored: IIconCardOwnProps[] = [];\r\n  @observable lights: ILightSwitch[] = [];\r\n  @observable messages: INotification[] = [];\r\n  @observable status = 'offline';\r\n  @observable user = getLoggedInUser();\r\n  @observable weather: IWeather = { loaded: false, updating: false };\r\n\r\n  constructor(rootStore: RootStore) {\r\n    this.dismissNotification = this.dismissNotification.bind(this);\r\n    this.loadWeather = this.loadWeather.bind(this);\r\n    this.login = this.login.bind(this);\r\n    this.register = this.register.bind(this);\r\n    this.rootStore = rootStore;\r\n    this.setValue = this.setValue.bind(this);\r\n    this.syncStateWithServer = this.syncStateWithServer.bind(this);\r\n    this.updateUser = this.updateUser.bind(this);\r\n    this.updateUserApi = this.updateUserApi.bind(this);\r\n  }\r\n\r\n  @computed get userFullName() {\r\n    return this.user ? `${this.user.name} ${this.user.lastname}` : '';\r\n  }\r\n\r\n  @computed get isLoggedIn() {\r\n    return this.user && typeof this.user === 'object' && this.user.username ? true : false;\r\n  }\r\n\r\n  @action dismissNotification(notification: 'alerts' | 'messages', targetId: number) {\r\n    this[notification] = this[notification].filter((obj: INotification) => obj.id !== targetId);\r\n  }\r\n\r\n  @action loadWeather() {\r\n    if (this.weather.updating || !this.user.api?.weatherApiId) return;\r\n\r\n    this.weather.updating = true;\r\n    this.weather.error = null;\r\n    const apiId = this.user.api.weatherApiId;\r\n\r\n    getPosition().then((position) => {\r\n      const { lat, lon } = position;\r\n      syncWeather(lat, lon, apiId)\r\n        .then((response) => {\r\n          const { currentWeather, forecast } = response;\r\n          const now = new Date();\r\n\r\n          action('Sync Weather', () => {\r\n            this.weather.currentWeather = currentWeather;\r\n            this.weather.error = null;\r\n            this.weather.forecast = forecast;\r\n            this.weather.lastUpdate = now.valueOf();\r\n\r\n            this.weather.loaded = true;\r\n            this.weather.updating = false;\r\n          })();\r\n        })\r\n        .catch((err) => {\r\n          action('Sync Weather Failed', () => {\r\n            this.weather.error = err;\r\n            this.weather.loaded = true;\r\n            this.weather.updating = false;\r\n          })();\r\n        });\r\n    });\r\n  }\r\n\r\n  @action async login(username: string, password: string, forceFail?: boolean) {\r\n    this.user = {} as IUserObj;\r\n\r\n    const user = await doLogin(username, password, forceFail);\r\n\r\n    if (typeof user === 'object') {\r\n      action('Login User', () => {\r\n        this.user = user;\r\n      })();\r\n    }\r\n\r\n    return user;\r\n  }\r\n\r\n  @action async register(obj: IRegisterObj) {\r\n    this.user = {} as IUserObj;\r\n\r\n    const user = await doRegistration(obj);\r\n\r\n    if (typeof user === 'object') {\r\n      action('Login User', () => {\r\n        this.user = user;\r\n      })();\r\n    }\r\n\r\n    return user;\r\n  }\r\n\r\n  @action async updateUser(obj: IRegisterObj) {\r\n    const user = await doUserUpdate(obj, this.user);\r\n\r\n    if (typeof user === 'object') {\r\n      action('Update User', () => {\r\n        this.user = user;\r\n      })();\r\n    }\r\n\r\n    return user;\r\n  }\r\n\r\n  @action async updateUserApi(obj: IUserApiObj) {\r\n    const user = await doUserApiUpdate(obj, this.user);\r\n\r\n    if (typeof user === 'object') {\r\n      action('Update User Api', () => {\r\n        this.user = user;\r\n      })();\r\n    }\r\n\r\n    return user;\r\n  }\r\n\r\n  @action logout() {\r\n    window.localStorage.setItem('hcdLoggedIn', '');\r\n    this.user = {};\r\n    this.controlsInitialized = false;\r\n    return Promise.resolve();\r\n  }\r\n\r\n  @action setValue(objKey: string, ident: string, id: number, value: any) {\r\n    const postObj = { objKey, ident, id, value };\r\n    const postApiUrl = this.user.api?.postApiUrl;\r\n    if (postApiUrl) {\r\n      console.info('Posting to server: ');\r\n      post(postApiUrl, postObj);\r\n    } else {\r\n      console.info('%cPosting new values to server!', 'color: white; background-color: #26c6da;');\r\n      console.info(\r\n        `%c ${ident} is changing to ${value}`,\r\n        'color: white; background-color: #33b5e5;'\r\n      );\r\n      // eslint-disable-next-line no-console\r\n      console.table(postObj);\r\n      console.info('******************');\r\n    }\r\n\r\n    // @ts-ignore\r\n    this[objKey] = this[objKey].map((obj: IGenericObj) =>\r\n      obj.id === id ? { ...obj, value } : obj\r\n    );\r\n  }\r\n\r\n  @action syncStateWithServer(latency?: number, syncApiUrl?: string) {\r\n    sync(latency, syncApiUrl).then((response) => {\r\n      const {\r\n        alerts,\r\n        chartCards,\r\n        chartCardsControlled,\r\n        iconCards,\r\n        iconCardsMonitored,\r\n        lights,\r\n        messages,\r\n        status,\r\n      } = response;\r\n\r\n      action('Sync State With Server', () => {\r\n        this.alerts = alerts;\r\n        this.chartCards = chartCards;\r\n        this.chartCardsControlled = chartCardsControlled;\r\n        this.iconCards = iconCards;\r\n        this.iconCardsMonitored = iconCardsMonitored;\r\n        this.lights = lights;\r\n        this.messages = messages;\r\n        this.status = status;\r\n\r\n        this.controlsInitialized = true;\r\n      })();\r\n    });\r\n  }\r\n}\r\n","import { IUserObj } from '../AppState';\r\n\r\nexport default function getLoggedInUser(): IUserObj {\r\n  const users: IUserObj[] =\r\n    window.localStorage.getItem('hcdUsers') === null\r\n      ? []\r\n      : JSON.parse(window.localStorage.getItem('hcdUsers') as string);\r\n  const loggedInUsername = window.localStorage.getItem('hcdLoggedIn');\r\n  const userFind = users.filter((user) => user.username === loggedInUsername);\r\n\r\n  if (userFind.length) {\r\n    return userFind[0];\r\n  }\r\n\r\n  return {} as IUserObj;\r\n}\r\n","import { action, computed, configure, observable } from 'mobx';\r\nimport RootStore from '.';\r\n\r\n// don't allow state modifications outside actions\r\nconfigure({ enforceActions: 'observed' });\r\n\r\nexport default class UiState {\r\n  rootStore: RootStore;\r\n\r\n  @observable language = 'en_US';\r\n  @observable menuCollapsed = true;\r\n  @observable pendingRequestCount = 0;\r\n  @observable sideNavOpen = true;\r\n\r\n  // .struct makes sure observer won't be signaled unless the\r\n  // dimensions object changed in a deepEqual manner\r\n  @observable.struct windowDimensions = {\r\n    height: window.innerHeight,\r\n    width: window.innerWidth,\r\n  };\r\n\r\n  constructor(rootStore: RootStore) {\r\n    this.rootStore = rootStore;\r\n    window.onresize = () => {\r\n      this.setWindowDimensions();\r\n      if (this.windowDimensions.width < 992 && !this.sideNavOpen) {\r\n        this.toggleSideNav();\r\n      }\r\n    };\r\n    this.collapseMenu = this.collapseMenu.bind(this);\r\n    this.toggleSideNav = this.toggleSideNav.bind(this);\r\n  }\r\n\r\n  @action collapseMenu() {\r\n    this.menuCollapsed = !this.menuCollapsed;\r\n  }\r\n\r\n  @action setWindowDimensions() {\r\n    this.windowDimensions = this._windowDimensions;\r\n  }\r\n\r\n  @action toggleSideNav() {\r\n    this.sideNavOpen = !this.sideNavOpen;\r\n    if (!this.sideNavOpen) {\r\n      document.body.classList.add('side-nav-closed');\r\n    } else {\r\n      document.body.classList.remove('side-nav-closed');\r\n    }\r\n  }\r\n\r\n  get _windowDimensions() {\r\n    return {\r\n      height: window.innerHeight,\r\n      width: window.innerWidth,\r\n    };\r\n  }\r\n\r\n  @computed get appIsInSync() {\r\n    return this.pendingRequestCount === 0;\r\n  }\r\n}\r\n","import AppState from './AppState';\r\nimport UiState from './UiState';\r\n\r\nexport type ILocation = {\r\n  location?: Location;\r\n};\r\n\r\nexport type IRootStore = {\r\n  store: RootStore;\r\n};\r\nexport const storeDefaultProps = { store: (null as unknown) as RootStore };\r\nexport const locationDefaultProps = { location: (null as unknown) as Location };\r\n\r\nclass RootStore {\r\n  appStore: AppState;\r\n  uiStore: UiState;\r\n\r\n  constructor() {\r\n    this.appStore = new AppState(this);\r\n    this.uiStore = new UiState(this);\r\n  }\r\n}\r\n\r\nexport default RootStore;\r\n","import { inject, observer } from 'mobx-react';\r\nimport { IRootStore, storeDefaultProps } from '../../store';\r\nimport { IUserApiObj } from '../../store/AppState';\r\nimport * as React from 'react';\r\n\r\nconst { useRef, useState } = React;\r\n\r\ninterface IApiFormOwnProps {\r\n  userApi?: IUserApiObj;\r\n}\r\n\r\nexport type IApiFormProps = IApiFormOwnProps & Partial<IRootStore>;\r\n\r\ninterface IApiFormPropsState extends IUserApiObj {\r\n  error?: string | null;\r\n  pristine: boolean;\r\n  submitting: boolean;\r\n}\r\n\r\nconst samplePostObj = { id: 2, ident: 'heatingCompressor', objKey: 'iconCards', value: true };\r\n\r\nconst initState = ({ userApi = {} }: IApiFormProps) => {\r\n  return {\r\n    error: null,\r\n    postApiUrl: userApi.postApiUrl ? userApi.postApiUrl : '',\r\n    pristine: true,\r\n    submitting: false,\r\n    syncApiUrl: userApi.syncApiUrl ? userApi.syncApiUrl : '',\r\n    weatherApiId: userApi.weatherApiId ? userApi.weatherApiId : '',\r\n  };\r\n};\r\n\r\nfunction ApiForm(props: IApiFormProps) {\r\n  const { store = storeDefaultProps.store } = props;\r\n  const [state, setState] = useState<IApiFormPropsState>(initState(props));\r\n  const weatherApiIdRef = useRef<HTMLInputElement>(null);\r\n  const postApiUrldRef = useRef<HTMLInputElement>(null);\r\n\r\n  const { appStore } = store;\r\n  const { error, postApiUrl, syncApiUrl, weatherApiId, pristine, submitting } = state;\r\n  const submitDisabled =\r\n    submitting || (typeof error === 'string' && pristine) || (!error && pristine);\r\n\r\n  const handleChange = (event: React.FormEvent<HTMLInputElement>) => {\r\n    const name = event.currentTarget.name;\r\n    const value = event.currentTarget.value;\r\n    setState((s) => ({ ...s, [name]: value, pristine: false }));\r\n  };\r\n\r\n  const handleKeyPress = (event: React.KeyboardEvent<HTMLInputElement>) => {\r\n    const name = event.currentTarget.name;\r\n\r\n    if (event.key === 'Enter') {\r\n      if (name === 'syncApiUrl') {\r\n        if (postApiUrldRef.current) {\r\n          postApiUrldRef.current.focus();\r\n        }\r\n      } else if (name === 'postApiUrl') {\r\n        if (weatherApiIdRef.current) {\r\n          weatherApiIdRef.current.focus();\r\n        }\r\n      } else if (name === 'weatherApiId') {\r\n        handleSubmit();\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    setState((s) => ({\r\n      ...s,\r\n      error: null,\r\n      pristine: true,\r\n      submitting: true,\r\n    }));\r\n    appStore.updateUserApi({ syncApiUrl, postApiUrl, weatherApiId }).then((response) => {\r\n      const error = typeof response === 'string' ? response : null;\r\n      if (error) {\r\n        setState((s) => ({\r\n          ...s,\r\n          error: error ? String(error) : 'Oops, something went wrong.',\r\n          pristine: true,\r\n          submitting: false,\r\n        }));\r\n      } else {\r\n        setState((s) => ({\r\n          ...s,\r\n          error: null,\r\n          pristine: true,\r\n          submitting: false,\r\n        }));\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      {error && (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"syncApiUrl\">API Endpoint (GET)</label>\r\n        <input\r\n          className=\"form-control\"\r\n          id=\"syncApiUrl\"\r\n          name=\"syncApiUrl\"\r\n          onChange={handleChange}\r\n          onKeyPress={handleKeyPress}\r\n          placeholder=\"Enter your API endpoint url to fetch data\"\r\n          type=\"text\"\r\n          value={syncApiUrl}\r\n        />\r\n        <small className=\"form-text text-muted\">\r\n          The API endpoint should return the same JSON object as is specified in the documentation\r\n        </small>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"postApiUrl\">API Endpoint (POST)</label>\r\n        <input\r\n          className=\"form-control\"\r\n          id=\"postApiUrl\"\r\n          name=\"postApiUrl\"\r\n          onChange={handleChange}\r\n          onKeyPress={handleKeyPress}\r\n          placeholder=\"Enter your API endpoint url to post data\"\r\n          type=\"text\"\r\n          value={postApiUrl}\r\n        />\r\n        <small className=\"form-text text-muted\">\r\n          The API endpoint will recieve a post body for every value change. I.E.{' '}\r\n          <code>{JSON.stringify(samplePostObj)}</code>\r\n        </small>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"weatherApiId\">Open Weather API id</label>\r\n        <input\r\n          className=\"form-control\"\r\n          id=\"weatherApiId\"\r\n          name=\"weatherApiId\"\r\n          onChange={handleChange}\r\n          onKeyPress={handleKeyPress}\r\n          placeholder=\"Enter Open Weather API id\"\r\n          ref={weatherApiIdRef}\r\n          type=\"text\"\r\n          value={weatherApiId}\r\n        />\r\n        <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n          In order for the weather section to work you must create a free API id at{' '}\r\n          <a href=\"https://openweathermap.org/\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n            openweathermap.org\r\n          </a>\r\n        </small>\r\n      </div>\r\n      <button\r\n        className={`btn btn-primary btn-block${submitDisabled ? ' disabled' : ''}`}\r\n        disabled={submitDisabled}\r\n        onClick={handleSubmit}\r\n        type=\"button\"\r\n      >\r\n        {submitting ? <span className=\"fas fa-spinner fa-pulse\" aria-hidden=\"true\" /> : 'Save'}\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default inject('store')(observer(ApiForm));\r\n","import { inject, observer } from 'mobx-react';\r\nimport { IRootStore, storeDefaultProps } from '../../store';\r\nimport { IUserObj, IRegisterObj } from '../../store/AppState';\r\nimport * as React from 'react';\r\n\r\nconst { useRef, useState } = React;\r\n\r\ninterface IRegisterFormOwnProps {\r\n  initialValues?: IUserObj;\r\n  onSubmit?: (obj: IRegisterObj) => Promise<string | IUserObj>;\r\n  optionalFields?: string[];\r\n  readOnlyFields?: string[];\r\n  submitButtonLabel?: string;\r\n}\r\n\r\nexport type IRegisterFormProps = IRegisterFormOwnProps & Partial<IRootStore>;\r\n\r\ninterface IRegisterFormPropsState extends IUserObj {\r\n  error?: string | null;\r\n  passwordConfirm: string;\r\n  pristine: boolean;\r\n  submitting: boolean;\r\n}\r\n\r\nconst initState = ({ initialValues = {} }: IRegisterFormProps) => {\r\n  return {\r\n    error: null,\r\n    lastname: initialValues.lastname ? initialValues.lastname : '',\r\n    name: initialValues.name ? initialValues.name : '',\r\n    password: '',\r\n    passwordConfirm: '',\r\n    pristine: true,\r\n    sex: initialValues.sex ? initialValues.sex : '',\r\n    submitting: false,\r\n    username: initialValues.username ? initialValues.username : '',\r\n  };\r\n};\r\n\r\nfunction RegisterForm(props: IRegisterFormProps) {\r\n  const {\r\n    onSubmit,\r\n    optionalFields = [],\r\n    readOnlyFields = [],\r\n    store = storeDefaultProps.store,\r\n    submitButtonLabel = 'Submit',\r\n  } = props;\r\n  const [state, setState] = useState<IRegisterFormPropsState>(initState(props));\r\n  const passwordRef = useRef<HTMLInputElement>(null);\r\n  const passwordConfirmRef = useRef<HTMLInputElement>(null);\r\n  const lastnameRef = useRef<HTMLInputElement>(null);\r\n  const nameRef = useRef<HTMLInputElement>(null);\r\n  const sexRef = useRef<HTMLInputElement>(null);\r\n\r\n  const { appStore } = store;\r\n  const {\r\n    error,\r\n    lastname,\r\n    name,\r\n    password,\r\n    passwordConfirm,\r\n    pristine,\r\n    sex,\r\n    submitting,\r\n    username,\r\n  } = state;\r\n  const submitDisabled =\r\n    (!optionalFields.includes('lastname') && lastname === '') ||\r\n    (!optionalFields.includes('name') && name === '') ||\r\n    (!optionalFields.includes('password') && password === '') ||\r\n    (!optionalFields.includes('passwordConfirm') && passwordConfirm === '') ||\r\n    (!optionalFields.includes('sex') && sex === '') ||\r\n    (!optionalFields.includes('username') && username === '') ||\r\n    submitting ||\r\n    (typeof error === 'string' && pristine) ||\r\n    (!error && pristine);\r\n\r\n  const handleChange = (event: React.FormEvent<HTMLInputElement>) => {\r\n    const name = event.currentTarget.name;\r\n    const value = event.currentTarget.value;\r\n    setState((s) => ({ ...s, [name]: value, pristine: false }));\r\n  };\r\n\r\n  const handleKeyPress = (event: React.KeyboardEvent<HTMLInputElement>) => {\r\n    const name = event.currentTarget.name;\r\n\r\n    if (event.key === 'Enter') {\r\n      if (name === 'username') {\r\n        if (passwordRef.current) {\r\n          passwordRef.current.focus();\r\n        }\r\n      } else if (name === 'password') {\r\n        if (nameRef.current) {\r\n          nameRef.current.focus();\r\n        }\r\n      } else if (name === 'passwordConfirm') {\r\n        if (passwordConfirmRef.current) {\r\n          passwordConfirmRef.current.focus();\r\n        }\r\n      } else if (name === 'name') {\r\n        if (lastnameRef.current) {\r\n          lastnameRef.current.focus();\r\n        }\r\n      } else if (name === 'lastname') {\r\n        if (sexRef.current) {\r\n          sexRef.current.focus();\r\n        }\r\n      } else if (name === 'sex') {\r\n        handleSubmit();\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    setState((s) => ({\r\n      ...s,\r\n      error: null,\r\n      pristine: true,\r\n      submitting: true,\r\n    }));\r\n    resolveSubmission({ lastname, name, password, passwordConfirm, sex, username }).then(\r\n      (response) => {\r\n        const error = typeof response === 'string' ? response : null;\r\n        if (error) {\r\n          setState((s) => ({\r\n            ...s,\r\n            error: error ? String(error) : 'Oops, something went wrong.',\r\n            pristine: true,\r\n            submitting: false,\r\n          }));\r\n        } else {\r\n          setState((s) => ({\r\n            ...s,\r\n            error: null,\r\n            pristine: true,\r\n            submitting: false,\r\n          }));\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const resolveSubmission = (obj: IRegisterObj): Promise<string | IUserObj> => {\r\n    if (typeof onSubmit === 'function') {\r\n      return onSubmit(obj);\r\n    }\r\n    return appStore.register({ lastname, name, password, passwordConfirm, sex, username });\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      {error && (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"username\">Username</label>\r\n        <input\r\n          className=\"form-control\"\r\n          id=\"username\"\r\n          name=\"username\"\r\n          onChange={handleChange}\r\n          onKeyPress={handleKeyPress}\r\n          placeholder=\"Enter username\"\r\n          readOnly={readOnlyFields.includes('username')}\r\n          type=\"text\"\r\n          value={username}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"password\">Password</label>\r\n        <input\r\n          className=\"form-control\"\r\n          id=\"password\"\r\n          name=\"password\"\r\n          onChange={handleChange}\r\n          onKeyPress={handleKeyPress}\r\n          placeholder=\"Enter password\"\r\n          readOnly={readOnlyFields.includes('password')}\r\n          ref={passwordRef}\r\n          type=\"password\"\r\n          value={password}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"passwordConfirm\">Confirm password</label>\r\n        <input\r\n          className=\"form-control\"\r\n          id=\"passwordConfirm\"\r\n          name=\"passwordConfirm\"\r\n          onChange={handleChange}\r\n          onKeyPress={handleKeyPress}\r\n          placeholder=\"Re-enter your password\"\r\n          readOnly={readOnlyFields.includes('passwordConfirm')}\r\n          ref={passwordConfirmRef}\r\n          type=\"password\"\r\n          value={passwordConfirm}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"name\">Name</label>\r\n        <input\r\n          className=\"form-control\"\r\n          id=\"name\"\r\n          name=\"name\"\r\n          onChange={handleChange}\r\n          onKeyPress={handleKeyPress}\r\n          placeholder=\"Enter name\"\r\n          readOnly={readOnlyFields.includes('name')}\r\n          ref={nameRef}\r\n          type=\"text\"\r\n          value={name}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"lastname\">Last name</label>\r\n        <input\r\n          className=\"form-control\"\r\n          id=\"lastname\"\r\n          name=\"lastname\"\r\n          onChange={handleChange}\r\n          onKeyPress={handleKeyPress}\r\n          placeholder=\"Enter last name\"\r\n          readOnly={readOnlyFields.includes('lastname')}\r\n          ref={lastnameRef}\r\n          type=\"text\"\r\n          value={lastname}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"sex\">Sex</label>\r\n        <div className=\"form-check\">\r\n          <label className=\"form-check-label\">\r\n            <input\r\n              checked={sex === 'm'}\r\n              className=\"form-check-input\"\r\n              name=\"sex\"\r\n              onChange={handleChange}\r\n              readOnly={readOnlyFields.includes('sex')}\r\n              ref={sexRef}\r\n              type=\"radio\"\r\n              value=\"m\"\r\n            />\r\n            Male\r\n          </label>\r\n        </div>\r\n        <div className=\"form-check\">\r\n          <label className=\"form-check-label\">\r\n            <input\r\n              checked={sex === 'f'}\r\n              className=\"form-check-input\"\r\n              name=\"sex\"\r\n              onChange={handleChange}\r\n              readOnly={readOnlyFields.includes('sex')}\r\n              type=\"radio\"\r\n              value=\"f\"\r\n            />\r\n            Female\r\n          </label>\r\n        </div>\r\n      </div>\r\n      <button\r\n        className={`btn btn-primary btn-block${submitDisabled ? ' disabled' : ''}`}\r\n        disabled={submitDisabled}\r\n        onClick={handleSubmit}\r\n        type=\"button\"\r\n      >\r\n        {submitting ? (\r\n          <span className=\"fas fa-spinner fa-pulse\" aria-hidden=\"true\" />\r\n        ) : (\r\n          submitButtonLabel\r\n        )}\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default inject('store')(observer(RegisterForm));\r\n","import { inject, observer } from 'mobx-react';\r\nimport { IRootStore, storeDefaultProps } from '../../store';\r\nimport { IUserObj } from '../../store/AppState';\r\nimport { Link } from 'react-router-dom';\r\nimport * as React from 'react';\r\nimport ApiForm from '../form/ApiForm';\r\nimport RegisterForm from '../form/RegisterForm';\r\n\r\ninterface IAccountOwnProps {}\r\n\r\nexport type IAccountProps = IAccountOwnProps & Partial<IRootStore>;\r\n\r\nfunction Account({ store = storeDefaultProps.store }: IAccountProps) {\r\n  const { appStore } = store;\r\n  const { user, updateUser } = appStore;\r\n  const { api = {}, lastname, name, sex, username } = user;\r\n\r\n  const handleSubmit = async (obj: IUserObj): Promise<IUserObj | string> => {\r\n    const response = await updateUser(obj);\r\n    return response;\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <ol className=\"breadcrumb\">\r\n        <li className=\"breadcrumb-item\">\r\n          <Link to=\"/account\">My Account</Link>\r\n        </li>\r\n        <li className=\"breadcrumb-item active\">Update your details</li>\r\n      </ol>\r\n      <div className=\"row\">\r\n        <div className=\"col-sm-7\">\r\n          <div className=\"card\">\r\n            <div className=\"card-header\">\r\n              <span className=\"fas fa-user-circle\" aria-hidden=\"true\" /> Account\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <RegisterForm\r\n                initialValues={{ lastname, name, sex, username }}\r\n                onSubmit={handleSubmit}\r\n                optionalFields={['password', 'passwordConfirm']}\r\n                readOnlyFields={['username']}\r\n                submitButtonLabel=\"Save\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-sm-5\">\r\n          <div className=\"card\">\r\n            <div className=\"card-header\">\r\n              <span className=\"fas fa-network-wired\" aria-hidden=\"true\" /> API Settings\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <ApiForm userApi={api} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default inject('store')(observer(Account));\r\n","import * as React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Api() {\r\n  const sampleData = {\r\n    coolingCompressorOn: false,\r\n    fanOn: false,\r\n    heatingCompressorOn: false,\r\n    heatingElementOn: false,\r\n    mainFloorTemp: 19.6,\r\n    outsideHumidity: 39,\r\n    outsideTemp: 11.8,\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <ol className=\"breadcrumb\">\r\n        <li className=\"breadcrumb-item\">\r\n          <Link to=\"/api\">API</Link>\r\n        </li>\r\n        <li className=\"breadcrumb-item active\">How to use</li>\r\n      </ol>\r\n      <article>\r\n        <div className=\"card\">\r\n          <div className=\"card-body\">\r\n            <h1>Synopsis</h1>\r\n            <hr />\r\n            <p>React based SPA to manage various smart components of the house.</p>\r\n            <h2>Motivation</h2>\r\n            <hr />\r\n            <p>Converting a simple JSON server home status response into an interactive app.</p>\r\n            <pre>{JSON.stringify(sampleData, null, 2)}</pre>\r\n            <h2>To Do</h2>\r\n            <hr />\r\n            <ul>\r\n              <li>Define server API</li>\r\n              <li>Consume server API</li>\r\n              <li>Authentication</li>\r\n              <li>Two Factor</li>\r\n            </ul>\r\n            <pre>{JSON.stringify(sampleData, null, 2)}</pre>\r\n            <h2>Build WIth</h2>\r\n            <hr />\r\n            <ul>\r\n              <li>Bootstrap 4</li>\r\n              <li>Fontawesome</li>\r\n              <li>MobX</li>\r\n              <li>Openweathermap</li>\r\n              <li>Owfont</li>\r\n              <li>React-Router</li>\r\n              <li>React</li>\r\n            </ul>\r\n            <h3>Authors</h3>\r\n            <ul>\r\n              <li>\r\n                <strong>Amir Karamuja</strong>\r\n              </li>\r\n            </ul>\r\n            <hr />\r\n            <h3>License</h3>\r\n            <p>\r\n              This project is licensed under the MIT License - see the LICENSE.md file for details\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </article>\r\n    </div>\r\n  );\r\n}\r\n","import * as React from 'react';\r\n\r\nexport interface ICalloutProps {\r\n  description?: string;\r\n  title: string;\r\n  titleExtra?: JSX.Element;\r\n  type?: string;\r\n}\r\n\r\nexport default function Callout(props: ICalloutProps) {\r\n  const { description, title, titleExtra, type = 'default' } = props;\r\n\r\n  return (\r\n    <div className={`bd-callout bd-callout-${type}`}>\r\n      <h4>\r\n        {title}\r\n        {titleExtra && titleExtra}\r\n      </h4>\r\n      {description && <p>{description}</p>}\r\n    </div>\r\n  );\r\n}\r\n","import * as React from 'react';\r\n\r\nexport interface IKnobProps {\r\n  value: number;\r\n  onChange: (newValue: number) => any;\r\n  onChangeEnd: (newValue: number) => void;\r\n  min: number;\r\n  max: number;\r\n  step: number;\r\n  log: boolean;\r\n  width: number;\r\n  height: number;\r\n  thickness: number;\r\n  lineCap?: 'butt' | 'round';\r\n  bgColor: string;\r\n  fgColor?: string;\r\n  inputColor?: string;\r\n  font?: string;\r\n  fontWeight?: string;\r\n  clockwise?: boolean;\r\n  cursor?: number | boolean;\r\n  stopper?: boolean;\r\n  readOnly?: boolean;\r\n  disableTextInput?: boolean;\r\n  displayInput?: boolean;\r\n  displayCustom?: () => any;\r\n  angleArc: number;\r\n  angleOffset: number;\r\n  disableMouseWheel?: boolean;\r\n  title?: string;\r\n  className?: string | undefined;\r\n  canvasClassName?: string | undefined;\r\n}\r\n\r\nclass Knob extends React.Component<IKnobProps, {}> {\r\n  static defaultProps: Partial<IKnobProps> = {\r\n    angleArc: 360,\r\n    angleOffset: 0,\r\n    bgColor: '#EEE',\r\n    canvasClassName: undefined,\r\n    className: undefined,\r\n    clockwise: true,\r\n    cursor: false,\r\n    disableMouseWheel: false,\r\n    disableTextInput: false,\r\n    displayInput: true,\r\n    fgColor: '#EA2',\r\n    font: 'Arial',\r\n    fontWeight: 'bold',\r\n    height: 200,\r\n    inputColor: '',\r\n    lineCap: 'butt',\r\n    log: false,\r\n    max: 100,\r\n    min: 0,\r\n    onChangeEnd: (newValue: number) => undefined,\r\n    readOnly: false,\r\n    step: 1,\r\n    stopper: true,\r\n    thickness: 0.35,\r\n    width: 200,\r\n  };\r\n\r\n  private angleArc: number;\r\n  private angleOffset: number;\r\n  private canvasRef: any;\r\n  private cursorExt: number;\r\n  private digits: number;\r\n  private endAngle: number;\r\n  private h: number;\r\n  private lineWidth: number = 1;\r\n  private radius: number = 50;\r\n  private startAngle: number;\r\n  private touchIndex: number = -1;\r\n  private w: number;\r\n  private xy: number = 0;\r\n\r\n  constructor(props: IKnobProps) {\r\n    super(props);\r\n    this.w = this.props.width || 200;\r\n    this.h = this.props.height || this.w;\r\n    this.cursorExt =\r\n      this.props.cursor === true\r\n        ? 0.3\r\n        : typeof this.props.cursor === 'number'\r\n        ? this.props.cursor / 100\r\n        : 0.3;\r\n    this.angleArc = (this.props.angleArc * Math.PI) / 180;\r\n    this.angleOffset = (this.props.angleOffset * Math.PI) / 180;\r\n    this.startAngle = 1.5 * Math.PI + this.angleOffset;\r\n    this.endAngle = 1.5 * Math.PI + this.angleOffset + this.angleArc;\r\n    this.digits =\r\n      Math.max(\r\n        String(Math.abs(this.props.min)).length,\r\n        String(Math.abs(this.props.max)).length,\r\n        2\r\n      ) + 2;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.drawCanvas();\r\n    if (!this.props.readOnly) {\r\n      this.canvasRef.addEventListener('touchstart', this.handleTouchStart, { passive: false });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps: IKnobProps) {\r\n    if (this.props.width && this.w !== this.props.width) {\r\n      this.w = this.props.width;\r\n    }\r\n    if (this.props.height && this.h !== this.props.height) {\r\n      this.h = this.props.height;\r\n    }\r\n    this.drawCanvas();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.canvasRef.removeEventListener('touchstart', this.handleTouchStart);\r\n  }\r\n\r\n  getArcToValue = (v: number) => {\r\n    let startAngle;\r\n    let endAngle;\r\n    const angle = !this.props.log\r\n      ? ((v - this.props.min) * this.angleArc) / (this.props.max - this.props.min)\r\n      : Math.log(Math.pow(v / this.props.min, this.angleArc)) /\r\n        Math.log(this.props.max / this.props.min);\r\n    if (!this.props.clockwise) {\r\n      startAngle = this.endAngle + 0.00001;\r\n      endAngle = startAngle - angle - 0.00001;\r\n    } else {\r\n      startAngle = this.startAngle - 0.00001;\r\n      endAngle = startAngle + angle + 0.00001;\r\n    }\r\n    if (this.props.cursor) {\r\n      startAngle = endAngle - this.cursorExt;\r\n      endAngle += this.cursorExt;\r\n    }\r\n    return {\r\n      acw: !this.props.clockwise && !this.props.cursor,\r\n      endAngle,\r\n      startAngle,\r\n    };\r\n  };\r\n\r\n  // Calculate ratio to scale canvas to avoid blurriness on HiDPI devices\r\n  getCanvasScale = (ctx: any) => {\r\n    const devicePixelRatio = window.devicePixelRatio || 1;\r\n    const backingStoreRatio = ctx.webkitBackingStorePixelRatio || 1;\r\n    return devicePixelRatio / backingStoreRatio;\r\n  };\r\n\r\n  coerceToStep = (v: number) => {\r\n    let val = !this.props.log\r\n      ? ~~((v < 0 ? -0.5 : 0.5) + v / this.props.step) * this.props.step\r\n      : Math.pow(\r\n          this.props.step,\r\n          ~~((Math.abs(v) < 1 ? -0.5 : 0.5) + Math.log(v) / Math.log(this.props.step))\r\n        );\r\n    val = Math.max(Math.min(val, this.props.max), this.props.min);\r\n    if (isNaN(val)) {\r\n      val = 0;\r\n    }\r\n    return Math.round(val * 1000) / 1000;\r\n  };\r\n\r\n  eventToValue = (e: any) => {\r\n    const bounds = this.canvasRef.getBoundingClientRect();\r\n    const x = e.clientX - bounds.left;\r\n    const y = e.clientY - bounds.top;\r\n    let a = Math.atan2(x - this.w / 2, this.w / 2 - y) - this.angleOffset;\r\n    if (!this.props.clockwise) {\r\n      a = this.angleArc - a - 2 * Math.PI;\r\n    }\r\n    if (this.angleArc !== Math.PI * 2 && a < 0 && a > -0.5) {\r\n      a = 0;\r\n    } else if (a < 0) {\r\n      a += Math.PI * 2;\r\n    }\r\n    const val = !this.props.log\r\n      ? (a * (this.props.max - this.props.min)) / this.angleArc + this.props.min\r\n      : Math.pow(this.props.max / this.props.min, a / this.angleArc) * this.props.min;\r\n    return this.coerceToStep(val);\r\n  };\r\n\r\n  handleMouseDown = (e: any) => {\r\n    this.props.onChange(this.eventToValue(e));\r\n    document.addEventListener('mousemove', this.handleMouseMove);\r\n    document.addEventListener('mouseup', this.handleMouseUp);\r\n    document.addEventListener('keyup', this.handleEsc);\r\n  };\r\n\r\n  handleMouseMove = (e: any) => {\r\n    e.preventDefault();\r\n    this.props.onChange(this.eventToValue(e));\r\n  };\r\n\r\n  handleMouseUp = (e: any) => {\r\n    this.props.onChangeEnd(this.eventToValue(e));\r\n    document.removeEventListener('mousemove', this.handleMouseMove);\r\n    document.removeEventListener('mouseup', this.handleMouseUp);\r\n    document.removeEventListener('keyup', this.handleEsc);\r\n  };\r\n\r\n  handleTouchStart = (e: any) => {\r\n    e.preventDefault();\r\n    this.touchIndex = e.targetTouches.length - 1;\r\n    this.props.onChange(this.eventToValue(e.targetTouches[this.touchIndex]));\r\n    document.addEventListener('touchmove', this.handleTouchMove, { passive: false });\r\n    document.addEventListener('touchend', this.handleTouchEnd);\r\n    document.addEventListener('touchcancel', this.handleTouchEnd);\r\n  };\r\n\r\n  handleTouchMove = (e: any) => {\r\n    e.preventDefault();\r\n    this.props.onChange(this.eventToValue(e.targetTouches[this.touchIndex]));\r\n  };\r\n\r\n  handleTouchEnd = (e: any) => {\r\n    this.props.onChangeEnd(this.eventToValue(e));\r\n    document.removeEventListener('touchmove', this.handleTouchMove);\r\n    document.removeEventListener('touchend', this.handleTouchEnd);\r\n    document.removeEventListener('touchcancel', this.handleTouchEnd);\r\n  };\r\n\r\n  handleEsc = (e: any) => {\r\n    if (e.keyCode === 27) {\r\n      e.preventDefault();\r\n      this.handleMouseUp(e);\r\n    }\r\n  };\r\n\r\n  handleTextInput = (\r\n    e: React.KeyboardEvent<HTMLInputElement> | React.ChangeEvent<HTMLInputElement>\r\n  ) => {\r\n    const val =\r\n      Math.max(Math.min(+e.currentTarget.value, this.props.max), this.props.min) || this.props.min;\r\n    this.props.onChange(val);\r\n  };\r\n\r\n  handleWheel = (e: any) => {\r\n    const { disableMouseWheel, readOnly } = this.props;\r\n    if (readOnly || disableMouseWheel) {\r\n      return;\r\n    }\r\n\r\n    e.preventDefault();\r\n    if (e.deltaX > 0 || e.deltaY > 0) {\r\n      this.props.onChange(\r\n        this.coerceToStep(\r\n          !this.props.log ? this.props.value + this.props.step : this.props.value * this.props.step\r\n        )\r\n      );\r\n    } else if (e.deltaX < 0 || e.deltaY < 0) {\r\n      this.props.onChange(\r\n        this.coerceToStep(\r\n          !this.props.log ? this.props.value - this.props.step : this.props.value / this.props.step\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  handleArrowKey = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (e.keyCode === 37 || e.keyCode === 40) {\r\n      e.preventDefault();\r\n      this.props.onChange(\r\n        this.coerceToStep(\r\n          !this.props.log ? this.props.value - this.props.step : this.props.value / this.props.step\r\n        )\r\n      );\r\n    } else if (e.keyCode === 38 || e.keyCode === 39) {\r\n      e.preventDefault();\r\n      this.props.onChange(\r\n        this.coerceToStep(\r\n          !this.props.log ? this.props.value + this.props.step : this.props.value * this.props.step\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  inputStyle = () => ({\r\n    MozAppearance: 'none',\r\n    WebkitAppearance: 'none',\r\n    appearance: 'none',\r\n    background: 'none',\r\n    border: 0,\r\n    color: this.props.inputColor || this.props.fgColor,\r\n    font: `${this.props.fontWeight} ${(this.w / this.digits) >> 0}px ${this.props.font}`,\r\n    height: `${(this.w / 3) >> 0}px`,\r\n    marginLeft: `-${((this.w * 3) / 4 + 2) >> 0}px`,\r\n    marginTop: `${(this.w / 3) >> 0}px`,\r\n    padding: '0px',\r\n    position: 'absolute',\r\n    textAlign: 'center',\r\n    verticalAlign: 'middle',\r\n    width: `${(this.w / 2 + 4) >> 0}px`,\r\n  });\r\n\r\n  drawCanvas() {\r\n    const ctx = this.canvasRef.getContext('2d');\r\n    const scale = this.getCanvasScale(ctx);\r\n    this.canvasRef.width = this.w * scale; // clears the canvas\r\n    this.canvasRef.height = this.h * scale;\r\n    ctx.scale(scale, scale);\r\n    this.xy = this.w / 2; // coordinates of canvas center\r\n    this.lineWidth = this.xy * this.props.thickness;\r\n    this.radius = this.xy - this.lineWidth / 2;\r\n    ctx.lineWidth = this.lineWidth;\r\n    ctx.lineCap = this.props.lineCap;\r\n    // background arc\r\n    ctx.beginPath();\r\n    ctx.strokeStyle = this.props.bgColor;\r\n    ctx.arc(\r\n      this.xy,\r\n      this.xy,\r\n      this.radius,\r\n      this.endAngle - 0.00001,\r\n      this.startAngle + 0.00001,\r\n      true\r\n    );\r\n    ctx.stroke();\r\n    // foreground arc\r\n    const a = this.getArcToValue(this.props.value);\r\n    ctx.beginPath();\r\n    ctx.strokeStyle = this.props.fgColor;\r\n    ctx.arc(this.xy, this.xy, this.radius, a.startAngle, a.endAngle, a.acw);\r\n    ctx.stroke();\r\n  }\r\n\r\n  renderCenter = () => {\r\n    const { displayCustom, displayInput, disableTextInput, readOnly, value } = this.props;\r\n\r\n    if (displayInput) {\r\n      return (\r\n        // @ts-ignore tslint:disable-next-line\r\n        <input\r\n          onChange={this.handleTextInput}\r\n          onKeyDown={this.handleArrowKey}\r\n          readOnly={readOnly || disableTextInput}\r\n          style={this.inputStyle() as any}\r\n          type=\"text\"\r\n          value={value}\r\n        />\r\n      );\r\n    }\r\n    if (displayCustom && typeof displayCustom === 'function') {\r\n      return displayCustom();\r\n    }\r\n    return null;\r\n  };\r\n\r\n  render() {\r\n    const { canvasClassName, className, readOnly, title, value } = this.props;\r\n\r\n    return (\r\n      <div\r\n        className={className}\r\n        style={{ width: this.w, height: this.h, display: 'inline-block' }}\r\n        onWheel={this.handleWheel}\r\n      >\r\n        <canvas\r\n          ref={(ref) => {\r\n            this.canvasRef = ref;\r\n          }}\r\n          className={canvasClassName}\r\n          style={{ width: '100%', height: '100%' }}\r\n          onMouseDown={readOnly ? () => undefined : this.handleMouseDown}\r\n          title={title ? `${title}: ${value}` : String(value)}\r\n        />\r\n        {this.renderCenter()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Knob;\r\n","import { inject, observer } from 'mobx-react';\r\nimport { IRootStore, storeDefaultProps } from '../../store';\r\nimport * as React from 'react';\r\nimport Knob from './Knob';\r\n\r\nconst { useRef, useState } = React;\r\n\r\nexport interface IChartCardOwnProps {\r\n  controled?: boolean;\r\n  description?: string;\r\n  disabled?: boolean;\r\n  error?: string;\r\n  id: number;\r\n  ident: string;\r\n  max?: number;\r\n  min?: number;\r\n  storeKey?: string;\r\n  title: string;\r\n  type: string;\r\n  value: number;\r\n}\r\n\r\nexport type IChartCardProps = IChartCardOwnProps & Partial<IRootStore>;\r\n\r\nfunction ChartCard({\r\n  controled,\r\n  description,\r\n  error,\r\n  id,\r\n  ident,\r\n  max,\r\n  min,\r\n  store = storeDefaultProps.store,\r\n  storeKey,\r\n  title,\r\n  type,\r\n  value: passedValue,\r\n}: IChartCardProps) {\r\n  const timeouts: { current: { [key: string]: number } } = useRef({});\r\n\r\n  const [value, setStateValue] = useState(passedValue);\r\n  const { appStore } = store;\r\n  const { setValue } = appStore;\r\n  let icon = 'fas fa-exclamation';\r\n  switch (type) {\r\n    case 'temperature':\r\n      icon = 'fas fa-thermometer-half';\r\n      break;\r\n    case 'humidty':\r\n      icon = 'fas fa-umbrella';\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  let cls = '';\r\n\r\n  if (type === 'temperature') {\r\n    if (value > 35) {\r\n      cls = 'bg-danger text-white';\r\n      icon = 'fas fa-thermometer-full';\r\n    } else if (value > 25) {\r\n      cls = 'bg-warning text-white';\r\n      icon = 'fas fa-thermometer-three-quarters';\r\n    } else if (value > 15) {\r\n      cls = 'bg-success text-white';\r\n    } else if (value > 5) {\r\n      cls = 'bg-success-secondary text-white';\r\n      icon = 'fas fa-thermometer-quarter';\r\n    } else if (value > -5) {\r\n      cls = 'bg-info text-white';\r\n      icon = 'fas fa-thermometer-empty';\r\n    } else if (value < -5) {\r\n      cls = 'bg-primary text-white';\r\n      icon = 'fas fa-thermometer-empty';\r\n    }\r\n    if (controled && value > 25) {\r\n      cls = `${cls} warning hot`;\r\n    }\r\n    if (controled && value < 10) {\r\n      cls = `${cls} warning cold`;\r\n    }\r\n  }\r\n\r\n  if (type === 'humidty') {\r\n    cls = 'bg-info text-white';\r\n  }\r\n\r\n  // Methods\r\n  const handleChange = (newValue: number) => {\r\n    setStateValue(newValue);\r\n    window.clearTimeout(timeouts.current.changeTimeout);\r\n    timeouts.current.changeTimeout = window.setTimeout(() => {\r\n      if (storeKey) {\r\n        setValue(storeKey, ident, id, newValue);\r\n      }\r\n    }, 500);\r\n  };\r\n\r\n  const errorLabel = <span className=\"badge badge-warning\">{error}</span>;\r\n  const valueText = type === 'temperature' ? `${value} &deg;C` : `${value} %`;\r\n  const chartLabel = (\r\n    <div className=\"card-body\">\r\n      <div className=\"card-body-chart\">\r\n        <span className={icon} aria-hidden=\"true\" />\r\n      </div>\r\n      {controled ? (\r\n        <Knob\r\n          angleArc={250}\r\n          angleOffset={-125}\r\n          className={'control'}\r\n          font={'Lato'}\r\n          fontWeight={'normal'}\r\n          height={120}\r\n          inputColor={'white'}\r\n          lineCap={'round'}\r\n          max={max}\r\n          min={min}\r\n          onChange={handleChange}\r\n          step={0.1}\r\n          thickness={0.25}\r\n          value={value}\r\n          width={120}\r\n        />\r\n      ) : (\r\n        <div\r\n          className=\"card-body-value\"\r\n          dangerouslySetInnerHTML={{\r\n            __html: valueText,\r\n          }}\r\n        />\r\n      )}\r\n      <h3 className=\"m-t-10\">{title}</h3>\r\n      <p className=\"mb-0\">{description}</p>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className={`card ${cls} chart text-right o-hidden h-100`}>\r\n      {error ? errorLabel : chartLabel}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default inject('store')(observer(ChartCard));\r\n","import * as React from 'react';\r\nimport ChartCard, { IChartCardOwnProps } from './ChartCard';\r\n\r\nexport interface IChartCardsProps {\r\n  cards: IChartCardOwnProps[];\r\n  storeKey: string;\r\n}\r\n\r\nexport default function ChartCards({ cards, storeKey }: IChartCardsProps) {\r\n  const cardElms = cards.map((chartCard) => (\r\n    <div className=\"col-xl-6 col-sm-6 mb-3\" key={chartCard.id}>\r\n      <ChartCard {...chartCard} storeKey={storeKey} />\r\n    </div>\r\n  ));\r\n  return <div className=\"row\">{cardElms}</div>;\r\n}\r\n","import * as React from 'react';\r\nimport ChartCard, { IChartCardOwnProps } from './ChartCard';\r\n\r\nexport interface IChartCardsControlledProps {\r\n  cards: IChartCardOwnProps[];\r\n  storeKey: string;\r\n}\r\n\r\nexport default function ChartCardsControlled({ cards, storeKey }: IChartCardsControlledProps) {\r\n  const cardElms = cards.map((chartCard) => (\r\n    <div className=\"col-xl-4 col-sm-6 mb-3\" key={chartCard.id}>\r\n      <ChartCard {...chartCard} storeKey={storeKey} />\r\n    </div>\r\n  ));\r\n  return <div className=\"row\">{cardElms}</div>;\r\n}\r\n","import { inject, observer } from 'mobx-react';\r\nimport { IRootStore, storeDefaultProps } from '../../store';\r\nimport * as React from 'react';\r\n\r\nexport interface IIconCardOwnProps {\r\n  error?: string;\r\n  icon: string;\r\n  id: number;\r\n  ident: string;\r\n  monitored?: boolean;\r\n  storeKey?: string;\r\n  title: string;\r\n  type: string;\r\n  value?: boolean;\r\n}\r\n\r\nexport type IIconCardProps = IIconCardOwnProps & Partial<IRootStore>;\r\n\r\nfunction IconCard({\r\n  error,\r\n  icon,\r\n  id,\r\n  ident,\r\n  monitored,\r\n  storeKey,\r\n  title,\r\n  store = storeDefaultProps.store,\r\n  type,\r\n  value,\r\n}: IIconCardProps) {\r\n  const { appStore } = store;\r\n  const isOn = value;\r\n  const cls =\r\n    isOn || (monitored && !error)\r\n      ? `bg-${error ? 'danger' : type} text-white`\r\n      : `bg-${error ? 'danger text-white' : 'default inactive'}`;\r\n\r\n  const errorLabel = <span className=\"badge badge-warning\">{error}</span>;\r\n  const toggleLabel = (\r\n    <label className=\"switch-light switch-material\">\r\n      <input\r\n        type=\"checkbox\"\r\n        checked={isOn}\r\n        onChange={() => {\r\n          if (storeKey) {\r\n            appStore.setValue(storeKey, ident, id, !isOn);\r\n          }\r\n        }}\r\n      />\r\n      <span>\r\n        <span>Off</span>\r\n        <span>On</span>\r\n        <div />\r\n      </span>\r\n    </label>\r\n  );\r\n  const monitorLabel = <span> No problems detected </span>;\r\n\r\n  return (\r\n    <div className={`card ${cls} o-hidden h-100`}>\r\n      <div className=\"card-body\">\r\n        <div className=\"card-body-icon\">\r\n          <span className={icon} aria-hidden=\"true\" />\r\n        </div>\r\n        <h5 className=\"mr-5 mb-0\">{title}</h5>\r\n      </div>\r\n      <div\r\n        className={`card-footer position-relative${\r\n          isOn ? ' text-white' : ''\r\n        } clearfix small z-1 pt-2 pb-2`}\r\n      >\r\n        {monitored && !error && (\r\n          <div className=\"scanner-dot\">\r\n            <div className=\"dot\" />\r\n          </div>\r\n        )}\r\n        <span className={`float-left${monitored ? '' : ' mt-2'}`}>Current status</span>\r\n        <span className=\"float-right\">\r\n          {error ? errorLabel : monitored ? monitorLabel : toggleLabel}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default inject('store')(observer(IconCard));\r\n","import * as React from 'react';\r\nimport IconCard, { IIconCardOwnProps } from './IconCard';\r\n\r\nexport interface IConCardsProps {\r\n  cards: IIconCardOwnProps[];\r\n  storeKey: string;\r\n}\r\n\r\nexport default function IconCards({ cards, storeKey }: IConCardsProps) {\r\n  const cardElms = cards.map((iconCard) => (\r\n    <div className=\"col-xl-3 col-sm-6 mb-3\" key={iconCard.id}>\r\n      <IconCard {...iconCard} storeKey={storeKey} />\r\n    </div>\r\n  ));\r\n\r\n  return <div className=\"row\">{cardElms}</div>;\r\n}\r\n","import React from 'react';\r\n\r\nconst { useEffect, useRef } = React;\r\n\r\nexport default function useInterval(callback: () => any, delay: number) {\r\n  const savedCallback: { current: { callback: () => any } } = useRef({\r\n    callback: () => undefined,\r\n  });\r\n\r\n  // Remember the latest callback.\r\n  useEffect(() => {\r\n    savedCallback.current.callback = callback;\r\n  }, [callback]);\r\n\r\n  // Set up the interval.\r\n  useEffect(() => {\r\n    function tick() {\r\n      savedCallback.current.callback();\r\n    }\r\n    if (delay !== null) {\r\n      let id = setInterval(tick, delay);\r\n      return () => clearInterval(id);\r\n    }\r\n  }, [delay]);\r\n}\r\n","import * as React from 'react';\r\nimport { Line as LineChart } from 'react-chartjs-2';\r\nimport useInterval from '../../helpers/hookHelpers/useInterval';\r\n\r\nconst { useState } = React;\r\n\r\nconst monthNames = [\r\n  'January',\r\n  'February',\r\n  'March',\r\n  'April',\r\n  'May',\r\n  'June',\r\n  'July',\r\n  'August',\r\n  'September',\r\n  'October',\r\n  'November',\r\n  'December',\r\n];\r\n\r\nconst defaultKWhPrice = 0.12;\r\nconst defaultKWh = 1.205645;\r\n\r\ninterface IPowerProps {\r\n  kWh?: number;\r\n  kWhPrice?: number;\r\n}\r\ninterface IPowerState {\r\n  average: number;\r\n  cooling: number;\r\n  date: Date;\r\n  heating: number;\r\n  hotWater: number;\r\n  lighting: number;\r\n  monthDaysTotal: number;\r\n  monthName: string;\r\n  outlets: number;\r\n  todayTotal: number;\r\n  total: number;\r\n}\r\n\r\nconst getChartMonthLabels = () => {\r\n  const mNames: string[] = [];\r\n  const date = new Date();\r\n  for (let i = 0; i <= date.getMonth(); i += 1) {\r\n    mNames.push(monthNames[i]);\r\n  }\r\n  return mNames;\r\n};\r\n\r\nconst getPowerUsed = (props: { kWh: number }) => {\r\n  const { kWh } = props;\r\n  const date = new Date();\r\n  const monthDaysTotal = Number(\r\n    parseFloat((date.getDate() * 24 * kWh - date.getHours() * kWh).toString()).toFixed(2)\r\n  );\r\n  const todayTotal = Number(\r\n    parseFloat(\r\n      (\r\n        date.getHours() * kWh +\r\n        (date.getMinutes() / 60) * kWh +\r\n        (date.getSeconds() / 60 / 60) * kWh\r\n      ).toString()\r\n    ).toFixed(2)\r\n  );\r\n\r\n  const total = Number(parseFloat((monthDaysTotal + todayTotal).toString()).toFixed(2));\r\n  const average = Number(parseFloat((total / date.getDate()).toString()).toFixed(2));\r\n  const cooling = Number(parseFloat((total * 0.05).toString()).toFixed(2));\r\n  const heating = Number(parseFloat((total * 0.35).toString()).toFixed(2));\r\n  const hotWater = Number(parseFloat((total * 0.15).toString()).toFixed(2));\r\n  const lighting = Number(parseFloat((total * 0.2).toString()).toFixed(2));\r\n  const outlets = Number(parseFloat((total * 0.25).toString()).toFixed(2));\r\n  const monthName = monthNames[date.getMonth()];\r\n  return {\r\n    average,\r\n    cooling,\r\n    heating,\r\n    hotWater,\r\n    lighting,\r\n    monthDaysTotal,\r\n    monthName,\r\n    outlets,\r\n    todayTotal,\r\n    total,\r\n  };\r\n};\r\n\r\nconst getPowerCost = (hours: number, kWhPrice: number) => {\r\n  return parseFloat(String(hours * kWhPrice)).toFixed(2);\r\n};\r\n\r\nconst initState = ({ kWhPrice = defaultKWhPrice, kWh = defaultKWh }: IPowerProps) => {\r\n  const powerUsed = getPowerUsed({ kWh });\r\n  const date = new Date();\r\n  return {\r\n    date,\r\n    ...powerUsed,\r\n  };\r\n};\r\nexport default function Power({ kWhPrice = defaultKWhPrice, kWh = defaultKWh }: IPowerProps) {\r\n  const [state, setState] = useState(initState({ kWhPrice, kWh }));\r\n  const {\r\n    average,\r\n    cooling,\r\n    date,\r\n    heating,\r\n    hotWater,\r\n    lighting,\r\n    monthName,\r\n    outlets,\r\n    todayTotal,\r\n    total,\r\n  } = state;\r\n\r\n  const powerCost = getPowerCost(total, kWhPrice);\r\n\r\n  const chartData = {\r\n    datasets: [\r\n      {\r\n        data: [1125, 1250, 983, 972, total],\r\n        fillColor: 'rgba(220,220,220,0.2)',\r\n        label: `${date.getFullYear()} kWh used`,\r\n        pointColor: 'rgba(220,220,220,1)',\r\n        pointHighlightFill: '#fff',\r\n        pointHighlightStroke: 'rgba(220,220,220,1)',\r\n        pointStrokeColor: '#fff',\r\n        strokeColor: 'rgba(220,220,220,1)',\r\n      },\r\n      {\r\n        data: [968, 1073, 1125, 827, 912],\r\n        fillColor: 'rgba(38,198,218,0.2)',\r\n        label: `${date.getFullYear() - 1} kWh used`,\r\n        pointColor: 'rgba(151,187,205,1)',\r\n        pointHighlightFill: '#fff',\r\n        pointHighlightStroke: 'rgba(151,187,205,1)',\r\n        pointStrokeColor: '#fff',\r\n        strokeColor: 'rgba(151,187,205,1)',\r\n      },\r\n    ],\r\n    labels: getChartMonthLabels(),\r\n  };\r\n\r\n  const chartOptions: any = {\r\n    // Boolean - Whether the line is curved between points\r\n    bezierCurve: true,\r\n    // Number - Tension of the bezier curve between points\r\n    bezierCurveTension: 0.4,\r\n    // Boolean - Whether to fill the dataset with a colour\r\n    datasetFill: true,\r\n    // Boolean - Whether to show a stroke for datasets\r\n    datasetStroke: true,\r\n    // Number - Pixel width of dataset stroke\r\n    datasetStrokeWidth: 2,\r\n    // String - A legend template\r\n    legendTemplate:\r\n      '<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:<%=datasets[i].strokeColor%>\"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>',\r\n    // Boolean - Whether to horizontally center the label and point dot inside the grid\r\n    offsetGridLines: false,\r\n    // Boolean - Whether to show a dot for each point\r\n    pointDot: true,\r\n    // Number - Radius of each point dot in pixels\r\n    pointDotRadius: 4,\r\n    // Number - Pixel width of point dot stroke\r\n    pointDotStrokeWidth: 1,\r\n    // Number - amount extra to add to the radius to cater for hit detection outside the drawn point\r\n    pointHitDetectionRadius: 20,\r\n    // String - Colour of the grid lines\r\n    scaleGridLineColor: 'rgba(0,0,0,.05)',\r\n    // Number - Width of the grid lines\r\n    scaleGridLineWidth: 1,\r\n    // Boolean - Whether grid lines are shown across the chart\r\n    scaleShowGridLines: true,\r\n    // Boolean - Whether to show horizontal lines (except X axis)\r\n    scaleShowHorizontalLines: true,\r\n    // Boolean - Whether to show vertical lines (except Y axis)\r\n    scaleShowVerticalLines: true,\r\n  };\r\n\r\n  useInterval(() => {\r\n    setState(initState({ kWhPrice, kWh }));\r\n  }, 1000);\r\n\r\n  return (\r\n    <div className=\"card o-hidden\">\r\n      <div className=\"card-body bg-info\">\r\n        <div className=\"card-body-icon upside text-white\">\r\n          <span className=\"fas fa-plug\" aria-hidden=\"true\" />\r\n        </div>\r\n        <h4 className=\"text-white card-title\">Power usage</h4>\r\n        <h6 className=\"card-subtitle text-white m-b-0 op-5\">\r\n          Today: {todayTotal} kW <small> ({average} / per day) </small>\r\n        </h6>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <h6 className=\"chart\">Chart</h6>\r\n        <LineChart data={chartData} options={chartOptions} />\r\n        <hr />\r\n        <div className=\"totals\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-6 col-sm-12\">\r\n              <h6 className=\"mb-3\">{monthName} cost</h6>\r\n              <span\r\n                style={{\r\n                  display: 'inline-block',\r\n                  height: '124px',\r\n                  overflow: 'hidden',\r\n                  padding: '2px',\r\n                  textAlign: 'center',\r\n                  width: '124px',\r\n                }}\r\n              >\r\n                <span\r\n                  className=\"fas fa-hand-holding-usd circle-icon medium text-danger mb-2\"\r\n                  aria-hidden=\"true\"\r\n                />\r\n              </span>\r\n              <h4 className=\"total text-nowrap\">{powerCost} $</h4>\r\n              <small className=\"hours text-nowrap mb-3\">{total} kW</small>\r\n            </div>\r\n            <div className=\"col-md-6 col-sm-12\">\r\n              <h6 className=\"mb-3\">Breakdown</h6>\r\n              <div className=\"table-responsive\">\r\n                <table className=\"table table-striped table-sm\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <th scope=\"row\">Cooling</th>\r\n                      <td className=\"text-right\">{cooling} W</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th scope=\"row\">Heating</th>\r\n                      <td className=\"text-right\">{heating} W</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th scope=\"row\">Hot water</th>\r\n                      <td className=\"text-right\">{hotWater} W</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th scope=\"row\">Lighting</th>\r\n                      <td className=\"text-right\">{lighting} W</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th scope=\"row\">Outlets</th>\r\n                      <td className=\"text-right\">{outlets} W</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import * as React from 'react';\r\nimport useInterval from '../../helpers/hookHelpers/useInterval';\r\n\r\nconst { useState } = React;\r\n\r\nexport interface IImageOjb {\r\n  description: string;\r\n  link: string;\r\n  name: string;\r\n}\r\n\r\nexport interface IVideoFeedProps {\r\n  images: IImageOjb[];\r\n}\r\nexport interface IVideoFeedState {\r\n  activeIndex: number;\r\n}\r\n\r\n// export default class VideoFeed extends React.PureComponent<IVideoFeedProps, IVideoFeedState> {\r\n//   private interval: any;\r\n\r\n//   constructor(params: IVideoFeedProps) {\r\n//     super(params);\r\n//     this.state = {\r\n//       activeIndex: 0,\r\n//     };\r\n//     this.nextCam = this.nextCam.bind(this);\r\n//   }\r\n\r\n//   componentDidMount() {\r\n//     this.interval = setInterval(this.nextCam, 5000);\r\n//   }\r\n\r\n//   componentWillUnmount() {\r\n//     clearInterval(this.interval);\r\n//   }\r\n\r\n//   render() {\r\n\r\n//     return (\r\n\r\n//     );\r\n//   }\r\n// }\r\n\r\nexport default function VideoFeed({ images }: IVideoFeedProps) {\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n\r\n  const randomImage = images[activeIndex];\r\n  const { description, link, name } = randomImage;\r\n  const totalImages = images.length;\r\n\r\n  const nextCam = () => {\r\n    const newIndex = activeIndex + 1 > totalImages - 1 ? 0 : activeIndex + 1;\r\n    setActiveIndex(newIndex);\r\n  };\r\n\r\n  useInterval(() => {\r\n    nextCam();\r\n  }, 5000);\r\n\r\n  return (\r\n    <div className=\"card video-feed o-hidden\">\r\n      <div className=\"card-body bg-warning\">\r\n        <div className=\"card-body-icon text-white\">\r\n          <span className=\"fas fa-video\" aria-hidden=\"true\" />\r\n        </div>\r\n        <h4 className=\"text-white card-title\">Video feed</h4>\r\n        <h6 className=\"card-subtitle text-white m-b-0 op-5\">Uptime: 38 days</h6>\r\n      </div>\r\n      <div className=\"rec\">\r\n        <div className=\"dot\" /> REC{' '}\r\n      </div>\r\n      <img className=\"card-img-top\" src={link} alt={name} />\r\n      <div className=\"card-body\">\r\n        <p className=\"card-text\">{description}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import * as React from 'react';\r\nimport entryJpg from '../../images/entry.jpg';\r\nimport houseJpg from '../../images/house.jpg';\r\nimport IconCard, { IIconCardOwnProps } from './IconCard';\r\nimport livingroomJpg from '../../images/livingroom.jpg';\r\nimport Power from './Power';\r\nimport VideoFeed from './VideoFeed';\r\n\r\nexport interface ILiveMonitorsProps {\r\n  cards: IIconCardOwnProps[];\r\n  storeKey: string;\r\n}\r\n\r\nexport default function LiveMonitors({ cards, storeKey }: ILiveMonitorsProps) {\r\n  const cardElms = cards.map((iconCard) => (\r\n    <div className=\"col-sm-12 mb-3\" key={iconCard.id}>\r\n      <IconCard {...iconCard} storeKey={storeKey} />\r\n    </div>\r\n  ));\r\n  const images = [\r\n    {\r\n      description:\r\n        'Quisque nec elit lacinia, luctus tortor sit amet, dignissim lectus. Ut facilisis purus eu nisi dapibus, vitae iaculis turpis sagittis.',\r\n      link: houseJpg,\r\n      name: 'House',\r\n    },\r\n    {\r\n      description:\r\n        'Sed semper ligula gravida diam consequat lobortis. Nullam lobortis, ipsum sit amet laoreet gravida, arcu lacus mattis sapien, ac gravida urna sem non turpis.',\r\n      link: livingroomJpg,\r\n      name: 'Livingroom',\r\n    },\r\n    {\r\n      description:\r\n        'Etiam sed dapibus est, iaculis efficitur arcu. Nam quis blandit massa. Proin sagittis venenatis quam varius pretium. ',\r\n      link: entryJpg,\r\n      name: 'Entry',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col-xl-3 col-md-4 col-sm-12 mb-3\">\r\n        <div className=\"row\">{cardElms}</div>\r\n      </div>\r\n      <div className=\"col-xl-5 col-md-5 col-sm-12 mb-3\">\r\n        <Power />\r\n      </div>\r\n      <div className=\"col-xl-4 col-md-3 col-sm-12 mb-3\">\r\n        <VideoFeed images={images} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { inject, observer } from 'mobx-react';\r\nimport { IRootStore, storeDefaultProps } from '../../store';\r\nimport * as React from 'react';\r\nimport Callout from './Callout';\r\nimport ChartCards from './ChartCards';\r\nimport ChartCardsControlled from './ChartCardsControlled';\r\nimport IconCards from './IconCards';\r\nimport LiveMonitors from './LiveMonitors';\r\n\r\ninterface IControlsOwnProps {}\r\n\r\nexport type IControlsProps = IControlsOwnProps & Partial<IRootStore>;\r\n\r\nfunction Controls({ store = storeDefaultProps.store }: IControlsProps) {\r\n  const { appStore } = store;\r\n  const {\r\n    chartCards = [],\r\n    chartCardsControlled = [],\r\n    iconCards = [],\r\n    iconCardsMonitored = [],\r\n  } = appStore;\r\n  return (\r\n    <React.Fragment>\r\n      <ChartCards storeKey=\"chartCards\" cards={chartCards} />\r\n      <IconCards storeKey=\"iconCards\" cards={iconCards} />\r\n      <hr />\r\n      <Callout\r\n        type=\"success\"\r\n        title=\"Temperature Controls\"\r\n        description=\"Controls for all available temperature zones.\"\r\n      />\r\n      <ChartCardsControlled storeKey=\"chartCardsControlled\" cards={chartCardsControlled} />\r\n      <hr />\r\n      <Callout\r\n        type=\"warning\"\r\n        title=\"Live Monitoring\"\r\n        description=\"All passive monitors currently active.\"\r\n      />\r\n      <LiveMonitors storeKey=\"iconCardsMonitored\" cards={iconCardsMonitored} />\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default inject('store')(observer(Controls));\r\n","import * as React from 'react';\r\n\r\nexport interface IStatusProps {\r\n  status: string;\r\n  className?: string;\r\n}\r\n\r\nexport default function Status({ status, className }: IStatusProps) {\r\n  switch (status) {\r\n    case 'online':\r\n      return (\r\n        <span className={`badge badge-success${className ? ` ${className}` : ''}`}>\r\n          <span className=\"fas fa-check mr-1\" aria-hidden=\"true\" /> Online\r\n        </span>\r\n      );\r\n    case 'offline':\r\n      return (\r\n        <span className={`badge badge-default${className ? ` ${className}` : ''}`}>\r\n          <span className=\"fas fa-power-off mr-1\" aria-hidden=\"true\" /> Offline\r\n        </span>\r\n      );\r\n    case 'error':\r\n      return (\r\n        <span className={`badge badge-danger${className ? ` ${className}` : ''}`}>\r\n          <span className=\"fas fa-exclamation-circle mr-1\" aria-hidden=\"true\" /> Error\r\n        </span>\r\n      );\r\n    case 'syncing':\r\n      return (\r\n        <span className={`badge badge-info${className ? ` ${className}` : ''}`}>\r\n          <span className=\"fas fa-sync fa-spin mr-1\" aria-hidden=\"true\" /> Syncing...\r\n        </span>\r\n      );\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n","import { inject, observer } from 'mobx-react';\r\nimport { IRootStore, storeDefaultProps } from '../../store';\r\nimport { Link } from 'react-router-dom';\r\nimport * as React from 'react';\r\nimport Callout from '../content/Callout';\r\nimport Controls from '../content/Controls';\r\nimport Status from '../content/Status';\r\n\r\ninterface IDashboardOwnProps {}\r\n\r\nexport type IDashboardProps = IDashboardOwnProps & Partial<IRootStore>;\r\n\r\nfunction Dashboard({ store = storeDefaultProps.store }: IDashboardProps) {\r\n  const { appStore } = store;\r\n  const { status } = appStore;\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <ol className=\"breadcrumb\">\r\n        <li className=\"breadcrumb-item\">\r\n          <Link to=\"/\">Dashboard</Link>\r\n        </li>\r\n        <li className=\"breadcrumb-item active\">System Status</li>\r\n      </ol>\r\n\r\n      <Callout\r\n        type=\"info\"\r\n        title=\"System Status\"\r\n        description=\"Overal system status and main system controls.\"\r\n        titleExtra={<Status className=\"ml-2\" status={status} />}\r\n      />\r\n\r\n      <Controls />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default inject('store')(observer(Dashboard));\r\n","import { Link } from 'react-router-dom';\r\nimport * as React from 'react';\r\nimport Particles, {\r\n  IParticlesParams,\r\n  MoveDirection,\r\n  OutMode,\r\n  InteractivityDetect,\r\n} from 'react-particles-js';\r\n\r\nexport const particleOps: IParticlesParams = {\r\n  particles: {\r\n    color: {\r\n      value: '#ffffff',\r\n    },\r\n    line_linked: {\r\n      color: '#ffffff',\r\n      distance: 150,\r\n      enable: false,\r\n      opacity: 0.4,\r\n      width: 1,\r\n    },\r\n    move: {\r\n      attract: {\r\n        enable: false,\r\n        rotateX: 600,\r\n        rotateY: 600,\r\n      },\r\n      bounce: false,\r\n      direction: MoveDirection.none,\r\n      enable: true,\r\n      out_mode: OutMode.out,\r\n      random: true,\r\n      speed: 0.17,\r\n      straight: false,\r\n    },\r\n    number: {\r\n      density: {\r\n        enable: true,\r\n        value_area: 800,\r\n      },\r\n      value: 160,\r\n    },\r\n    opacity: {\r\n      anim: {\r\n        enable: true,\r\n        opacity_min: 0,\r\n        speed: 1,\r\n        sync: false,\r\n      },\r\n      random: true,\r\n      value: 1,\r\n    },\r\n    shape: {\r\n      image: {\r\n        height: 100,\r\n        src: 'img/github.svg',\r\n        width: 100,\r\n      },\r\n      polygon: {\r\n        nb_sides: 5,\r\n      },\r\n      stroke: {\r\n        color: '#000000',\r\n        width: 0,\r\n      },\r\n      type: 'circle',\r\n    },\r\n    size: {\r\n      anim: {\r\n        enable: false,\r\n        size_min: 0.3,\r\n        speed: 4,\r\n        sync: false,\r\n      },\r\n      random: true,\r\n      value: 3,\r\n    },\r\n  },\r\n  interactivity: {\r\n    detect_on: InteractivityDetect.canvas,\r\n    events: {\r\n      onclick: {\r\n        enable: false,\r\n        mode: 'repulse',\r\n      },\r\n      onhover: {\r\n        enable: false,\r\n        mode: 'bubble',\r\n      },\r\n      resize: false,\r\n    },\r\n    modes: {\r\n      bubble: {\r\n        distance: 250,\r\n        duration: 2,\r\n        opacity: 0,\r\n        size: 0,\r\n      },\r\n      grab: {\r\n        distance: 400,\r\n        line_linked: {\r\n          opacity: 1,\r\n        },\r\n      },\r\n      push: {\r\n        particles_nb: 4,\r\n      },\r\n      remove: {\r\n        particles_nb: 2,\r\n      },\r\n      repulse: {\r\n        distance: 400,\r\n        duration: 0.4,\r\n      },\r\n    },\r\n  },\r\n  retina_detect: true,\r\n};\r\n\r\nexport default function Error404() {\r\n  return (\r\n    <div className=\"container-fluid permission_denied\">\r\n      <Particles className=\"particles-js\" params={particleOps} />\r\n      <div className=\"denied__wrapper\">\r\n        <h1>404</h1>\r\n        <h3>\r\n          LOST IN <span>SPACE</span> Home Control Dashboard? Hmm, looks like that page doesn't\r\n          exist.\r\n        </h3>\r\n        <svg id=\"astronaut\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\r\n          <circle cx=\"256.8\" cy=\"255.3\" r=\"247.9\" className=\"st0\" />\r\n          <path\r\n            d=\"M346.4 475H164.9V244.8c0-14 11.4-25.4 25.4-25.4H321c14 0 25.4 11.4 25.4 25.4V475z\"\r\n            className=\"st2\"\r\n          />\r\n          <path\r\n            d=\"M346.4 470H165l5 5V349.9v-80-21.4c0-10.3 3.9-20.3 15-23.3 6.4-1.8 14.2-.7 20.7-.7h112.4c3.3 0 6.5 0 9.7 1.1 8.3 2.9 13.5 10.7 13.7 19.3.1 4.1 0 8.3 0 12.5v217.7c0 6.4 10 6.4 10 0v-130-79.5-19.1c-.1-13.8-7.6-26-21-30.5-7.2-2.4-15.8-1.5-23.3-1.5H192.9c-14.8 0-28.7 8.4-32 23.6-1.1 5.2-.8 10.8-.8 16.1V475c0 2.7 2.3 5 5 5h181.4c6.3 0 6.3-10-.1-10z\"\r\n            className=\"st1\"\r\n          />\r\n          <path\r\n            d=\"M164.9 250.3v120.3c0 6-4.9 11-11 11-17.6 0-31.9-14.4-31.9-31.9v-78.3c0-17.6 14.4-31.9 31.9-31.9 3 0 5.8 1.2 7.7 3.2 2.1 1.8 3.3 4.5 3.3 7.6z\"\r\n            className=\"st3\"\r\n          />\r\n          <path\r\n            d=\"M159.9 250.3v109.1c0 3.9 1.3 10.8-1 14.3-4.4 7-17.5.4-22.1-3.4-6.2-5.2-9.7-12.7-9.8-20.8-.3-17.8 0-35.6 0-53.3 0-8.3-.1-16.5 0-24.8.1-7.7 3.1-14.9 8.9-20.1 4.7-4.3 23.2-13.2 24-1 .4 6.4 10.4 6.4 10 0-1.7-24.7-33-15.8-43.8-3.2-7.7 9-9.1 19.5-9.1 30.8v68.7c0 13.3 4.7 25.4 15.8 33.3 12.2 8.7 36.4 10.9 37.1-9.5.7-19.1 0-38.3 0-57.4v-62.6c0-6.6-10-6.6-10-.1z\"\r\n            className=\"st1\"\r\n          />\r\n          <path d=\"M122 339.8h42.9c6.4 0 6.4-10 0-10H122c-6.4 0-6.4 10 0 10z\" className=\"st1\" />\r\n          <path\r\n            d=\"M344.4 241v235.9h-36V232.1c0-4.8-2.2-9.2-5.9-12.8h11.7c16.6.1 30.2 9.8 30.2 21.7z\"\r\n            className=\"st4 st5\"\r\n          />\r\n          <path\r\n            d=\"M376 161.2c0 66.4-53.9 120.3-120.3 120.3s-120.3-53.9-120.3-120.3c0-40.5 20-76.2 50.6-98.1 19.7-14 43.7-22.2 69.7-22.2s50 8.2 69.7 22.2C356 84.9 376 120.7 376 161.2z\"\r\n            className=\"st6\"\r\n          />\r\n          <path\r\n            d=\"M371 161.2c-.3 45-26.7 86.2-67.7 105.1-40.7 18.7-90.5 11.1-123.9-18.6-34.7-30.8-47.8-80.2-32.7-124.2 4-11.7 10-22.7 17.5-32.5 3.6-4.7 7.6-9.1 11.9-13.2 1.8-1.7 3.6-3.3 5.4-4.9 1.1-.9 2.2-1.9 3.4-2.8.8-.6 1.6-1.3 2.5-1.9-1.8-.1-1.8-.2 0-.4 21.7-16.2 50.1-23.6 77-21.8C324 50.3 370.6 101.8 371 161.2c0 6.4 10 6.4 10 0-.4-55.8-38.1-106.2-92.3-120.9-28.7-7.8-59.6-5-86.4 7.5-3.2 1.5-6.3 3.1-9.3 4.9-1.6.9-3.2 1.9-4.8 2.9-.6.4-1.4.8-2 1.3-.4.3-.9.6-1.3.9.4.1.8.2 1.2.2-.3.3-1.5.2-1.9.4l-2.4 1.5c-1.1.8-2.2 1.7-3.3 2.6-2.7 2.1-5.3 4.3-7.8 6.6-9.6 8.9-17.9 19.4-24.2 30.8-25.2 45-19.6 102 13.3 141.5 31.5 37.9 84.1 53.8 131.4 39.9 46.1-13.6 81.7-53.9 88.6-101.6.9-6.2 1.4-12.4 1.4-18.7-.2-6.3-10.2-6.3-10.2.2z\"\r\n            className=\"st1\"\r\n          />\r\n          <path\r\n            d=\"M249.6 478.1h-96.4c-2.7 0-4.8-2.2-4.8-4.8v-10.8c0-27.2 22.3-49.5 49.5-49.5h7c27.2 0 49.5 22.3 49.5 49.5v10.8c.1 2.7-2.1 4.8-4.8 4.8z\"\r\n            className=\"st3\"\r\n          />\r\n          <path\r\n            d=\"M249.6 473.1h-93.3c-.5 0-2.7.3-3.1 0-.6-.5.1-7.8.1-9.1 0-5.4.6-10.5 2.3-15.7 7.9-23.8 32.9-33.6 56.2-29.8 14.4 2.3 26.9 11.8 33.2 24.9 2.9 6.1 4.3 12.7 4.3 19.4v6.1c0 2 .8 4.2-1.2 4.5-6.3.9-3.6 10.5 2.7 9.6 6.8-.9 8.5-6.9 8.5-12.8 0-5.1.1-10.2-.6-15.3-2-14.6-10.1-27.7-21.9-36.4-21.6-15.9-55.8-14.2-75.7 3.7-11.2 10.1-17.6 24.6-17.9 39.6-.2 8.4-1.6 20.7 10 21.3 15.1.8 30.4 0 45.5 0h50.7c6.7 0 6.7-10 .2-10z\"\r\n            className=\"st1\"\r\n          />\r\n          <path\r\n            d=\"M358.2 478.1h-96.6c-2.6 0-4.7-2.1-4.7-4.7v-9.6c0-28 22.9-50.8 50.8-50.8h4.4c28 0 50.8 22.9 50.8 50.8v9.6c0 2.6-2.1 4.7-4.7 4.7z\"\r\n            className=\"st3\"\r\n          />\r\n          <path\r\n            d=\"M358.2 473.1h-92.7c-.8 0-3.1.4-3.8 0 0 0 .2-6.4.2-7.6 0-5.2.5-10.1 2-15.1 7.3-24 32.6-36.2 56.4-31.7 14 2.7 26 11.7 32.6 24.3 3.2 6.2 4.9 13.1 5 20.1v5.5c0 2.1.8 4.4-1 4.7-6.3.9-3.6 10.5 2.7 9.6 6.6-.9 8.4-6.7 8.4-12.5 0-5.4.1-10.8-.8-16.2-2.4-14.4-10.8-27.2-22.5-35.8-22.3-16.2-56.2-13.8-75.9 5.4-10.5 10.3-16.6 24.5-16.9 39.2-.1 8.3-1.2 19.4 10 20 15.4.9 31.1 0 46.5 0h49.8c6.4.1 6.4-9.9 0-9.9z\"\r\n            className=\"st1\"\r\n          />\r\n          <path\r\n            d=\"M297.8 366.4h-84.4c-6.6 0-12-5.4-12-12v-47c0-6.6 5.4-12 12-12h84.4c6.6 0 12 5.4 12 12v47c0 6.6-5.4 12-12 12z\"\r\n            className=\"st3\"\r\n          />\r\n          <path\r\n            d=\"M297.8 361.4h-62.4c-7.3 0-14.8.6-22 0-6.3-.5-7-5.6-7-10.6v-17.4-19.2c0-3.5-.8-8.4 1.6-11.3 2.4-2.8 5.8-2.5 9-2.5h53.6c8.8 0 17.7-.5 26.5 0 5.5.3 7.5 4.1 7.5 9.1v39.6c.2 5.2.6 11.9-6.8 12.3-6.4.3-6.4 10.3 0 10 9.7-.5 16.6-7.6 17-17.2.2-4.7 0-9.4 0-14v-22.8c0-4.1.4-8.5-.2-12.5-1.3-8.5-8.6-14.1-17-14.4-3.4-.1-6.8 0-10.3 0h-43c-10.1 0-20.2-.3-30.3 0-8 .3-15.1 5-17.1 13.1-1 4.1-.5 8.8-.5 13 0 12.5-.4 25 0 37.5.3 8.4 5.8 15.8 14.4 17.2 3.1.5 6.3.2 9.4.2h77.7c6.4-.1 6.4-10.1-.1-10.1z\"\r\n            className=\"st1\"\r\n          />\r\n          <circle cx=\"230.7\" cy=\"316.7\" r=\"10.4\" className=\"st7\" />\r\n          <path\r\n            d=\"M236.2 316.7c-.4 7-10.9 7-10.9 0s10.5-7 10.9 0c.3 6.4 10.3 6.4 10 0-.5-8.4-6.7-15.4-15.4-15.4-8.4 0-15.4 7.1-15.4 15.4 0 8.2 6.7 15.1 14.9 15.4 8.9.4 15.6-6.9 16-15.4.2-6.4-9.8-6.4-10.1 0z\"\r\n            className=\"st1\"\r\n          />\r\n          <circle cx=\"230.7\" cy=\"345.2\" r=\"10.4\" className=\"st8\" />\r\n          <path\r\n            d=\"M236.2 345.2c-.4 7-10.9 7-10.9 0s10.5-7 10.9 0c.3 6.4 10.3 6.4 10 0-.5-8.4-6.7-15.4-15.4-15.4-8.4 0-15.4 7.1-15.4 15.4 0 8.2 6.7 15.1 14.9 15.4 8.9.4 15.6-6.9 16-15.4.2-6.4-9.8-6.4-10.1 0z\"\r\n            className=\"st1\"\r\n          />\r\n          <path\r\n            d=\"M371.7 160.3c-.2 47-28.6 87.5-69.2 106.2 21.1-26.3 34.4-60.1 34.4-98.5 0-49.8-21.3-91.8-54.5-118.6-1-.8-2.3-.5-3.3-1.3 15.7 3.5 30 10 42.7 19 30 21.4 50 54.7 49.9 93.2z\"\r\n            className=\"st4 st5\"\r\n          />\r\n          <path d=\"M243.8 87h26.1c6.4 0 6.4-10 0-10h-26.1c-6.4 0-6.5 10 0 10z\" className=\"st1\" />\r\n          <path\r\n            d=\"M351 157.8c0 24.5-9.3 46.9-24.5 63.8-2.7 2.9-6.4 4.6-10.4 4.6l-120.4.4c-4 0-7.8-1.6-10.4-4.5-15.5-16.9-24.9-39.5-24.9-64.2 0-20.7 6.6-39.8 17.7-55.4 2.7-3.7 7-6 11.6-6h132c4.6 0 8.9 2.2 11.5 6 11.2 15.5 17.8 34.6 17.8 55.3z\"\r\n            className=\"st9\"\r\n          />\r\n          <path\r\n            d=\"M346 157.8c-.1 14.7-3.5 29.2-10.4 42.2-3.9 7.4-10.6 20.9-20 21.2-10.5.3-21.1.1-31.6.1-28.8.1-57.7.5-86.5.3-8.6-.1-13.5-8.5-17.8-15.1-7.9-12.3-12.8-26.5-13.9-41.2-1.2-14.9 1.2-30 7.2-43.7 3.4-7.7 8.1-20 17.8-20.2 27.6-.6 55.2 0 82.7 0h41.2c2.3 0 4.8-.2 7.1 0 7 .5 10.2 7.5 13.2 13 3.6 6.5 6.3 13.4 8.2 20.6 1.8 7.5 2.7 15.1 2.8 22.8.1 6.4 10.1 6.4 10 0-.1-15.9-3.8-31.4-10.9-45.6-5.1-10.1-11.3-20.5-23.9-20.8-11.1-.2-22.3 0-33.4 0h-95.5c-7.1 0-13.5 2-18.1 7.9-9.5 12.5-15.5 28.1-17.7 43.6-2.3 15.6-1 31.8 4.1 46.7 2.4 7.2 5.6 14.1 9.6 20.5 3.7 6 8.2 12.9 13.8 17.3 4.8 3.8 10.3 4.1 16.1 4 5.9 0 11.9 0 17.8-.1 18.4-.1 36.9-.1 55.3-.2 13.5 0 27.1-.1 40.6-.1 8.6 0 14.4-3.5 19.8-10.2 9.4-11.7 16.3-25.3 19.7-40 1.8-7.6 2.6-15.4 2.7-23.2 0-6.2-10-6.2-10 .2z\"\r\n            className=\"st1\"\r\n          />\r\n          <path\r\n            d=\"M181.6 111.8c-4.1 7.1-7.1 14.7-8.6 22.8-1.7 8.6 11.5 12.3 13.2 3.6 1.4-7 3.7-13.3 7.3-19.5 4.4-7.6-7.5-14.5-11.9-6.9zM182.4 166.4c-.4-3-.5-6.5-.4-9.8.1-3.7-3.2-6.9-6.9-6.9-3.8 0-6.7 3.1-6.9 6.9-.2 4.5.2 8.9.9 13.4.5 3.7 5.2 5.7 8.4 4.8 4-1.1 5.4-4.8 4.9-8.4z\"\r\n            className=\"st3\"\r\n          />\r\n          <path\r\n            d=\"M357.9 465v1c.6 8.8 1.5 7.2-8.3 7.1h-7.8c1.5-1.9 1.8-2.4 1.8-5.1v-1.1c0-14.1-5.3-26.9-13.7-36.2-5.5-6-12.3-10.3-19.8-12.7.8 0 1.6.1 2.4.1 13.1.8 25.1 6 33.2 14.6 8.1 8.6 12.2 19.5 12.2 32.3z\"\r\n            className=\"st10 st5\"\r\n          />\r\n          <path\r\n            d=\"M362.5 381.5h1.8c13.8 0 25.1-11.3 25.1-25.1v-92.1c0-13.8-11.3-25.1-25.1-25.1h-6.5c-6.3 0-11.4 5.1-11.4 11.4v114.8c0 8.9 7.2 16.1 16.1 16.1z\"\r\n            className=\"st3\"\r\n          />\r\n          <path\r\n            d=\"M362.5 386.5c17.5 0 31.5-12.6 31.9-30.4.2-8.2 0-16.4 0-24.6 0-22.3.5-44.6 0-66.8-.3-17.1-13.6-30.3-30.8-30.4-7.6-.1-15.3.4-19.7 7.7-2.1 3.5-2.4 7.2-2.4 11v106.4c0 2-.1 4 0 6 .3 11.8 9.2 20.6 21 21.1 6.4.3 6.4-9.7 0-10-10.8-.5-11.1-10-11.1-18.1v-28.5-69c0-4.8-1.6-13.9 3.9-16.2 5-2.1 14.1-.4 18.5 2 6.6 3.6 10.4 10.4 10.5 17.8.4 18.6 0 37.2 0 55.8v32.6c0 3.5.1 6.8-1.1 10.2-3.2 9.1-11.6 13.5-20.7 13.5-6.5-.1-6.5 9.9 0 9.9z\"\r\n            className=\"st1\"\r\n          />\r\n          <path d=\"M346.4 343.9h42.9c6.4 0 6.4-10 0-10h-42.9c-6.4 0-6.5 10 0 10z\" className=\"st1\" />\r\n          <path\r\n            d=\"M384.5 269.3v80.5c1.6 20.1-11.2 27.9-24.1 26.2-1.5-.2-3-.4-4.3-1.2 11.2-3.6 19.4-15.1 19.4-28.6v-73c0-13.5-8.2-25-19.4-28.6 2.3-.9 2.8-1.2 4.3-1.2 14.8.1 25.2 10.4 24.1 25.9z\"\r\n            className=\"st11 st12\"\r\n          />\r\n          <path d=\"M371.6 128.9l25.1-23.8\" className=\"st13\" />\r\n          <path\r\n            d=\"M375.1 132.4c8.4-7.9 16.7-15.8 25.1-23.8 4.7-4.4-2.4-11.5-7.1-7.1-8.4 7.9-16.7 15.8-25.1 23.8-4.6 4.5 2.4 11.5 7.1 7.1z\"\r\n            className=\"st1\"\r\n          />\r\n          <path d=\"M139.7 128.9l-25.1-23.8\" className=\"st13\" />\r\n          <path\r\n            d=\"M143.3 125.3c-8.4-7.9-16.7-15.8-25.1-23.8-4.7-4.4-11.8 2.6-7.1 7.1 8.4 7.9 16.7 15.8 25.1 23.8 4.7 4.4 11.7-2.6 7.1-7.1z\"\r\n            className=\"st1\"\r\n          />\r\n          <circle cx=\"114.6\" cy=\"105.1\" r=\"4.8\" className=\"st14\" />\r\n          <path\r\n            d=\"M114.4 105.1c0-.5.1-.1-.1.2.1-.2.5-.7.1-.3-.4.4.1 0 .2-.1.3-.2-.7 0 0 0 .5 0 .1.1-.2-.1.2.1.7.5.3.1-.5-.5.2.2.1.2.1.2.1.2 0-.1-.1-.3-.1-.3 0 .1 0 .7.1-.2.1-.2.1.1-.2.4-.3.5.5-.7.2-.3 0-.1-.3.2.5 0 .2-.1-.6-.1-.4-.1 0 .1-.2-.1-.3-.1-.5-.3.6.6.2.1.1.1-.1-.2-.1-.2 0 0 .1.4.1.4 0 0 .1 2.7 2.2 5 5 5 2.6 0 5.1-2.3 5-5-.3-5.3-4.3-9.8-9.8-9.8-5.4 0-9.7 4.5-9.8 9.8-.1 5.3 4.4 9.6 9.5 9.8 5.6.2 9.8-4.4 10-9.8.1-2.7-2.4-5-5-5-2.7 0-4.7 2.3-4.9 5z\"\r\n            className=\"st15\"\r\n          />\r\n          <circle cx=\"396.7\" cy=\"105.1\" r=\"4.8\" className=\"st16\" />\r\n          <path\r\n            d=\"M396.4 105.1c0-.5.1-.1-.1.2.1-.2.5-.7.1-.3-.4.4.1 0 .2-.1.3-.2-.7 0 0 0 .5 0 .1.1-.2-.1.2.1.7.5.3.1-.5-.5.2.2.1.2.1.2.1.2 0-.1-.1-.3-.1-.3 0 .1 0 .7.1-.2.1-.2.1.1-.2.4-.3.5.5-.7.2-.3 0-.1-.3.2.5 0 .2-.1-.6-.1-.4-.1 0 .1-.2-.1-.3-.1-.5-.3.6.6.2.1.1.1 0-.2 0-.2 0 0 .1.4.1.4 0 0 .1 2.7 2.2 5 5 5 2.6 0 5.1-2.3 5-5-.3-5.3-4.3-9.8-9.8-9.8-5.4 0-9.7 4.5-9.8 9.8-.1 5.3 4.4 9.6 9.5 9.8 5.6.2 9.8-4.4 10-9.8.1-2.7-2.4-5-5-5-2.7 0-4.7 2.3-4.9 5z\"\r\n            className=\"st15\"\r\n          />\r\n          <path d=\"M351.9 478.1H376\" className=\"st3\" />\r\n          <g>\r\n            <path d=\"M138 478.1h-18.3\" className=\"st3\" />\r\n          </g>\r\n          <g>\r\n            <path\r\n              d=\"M307.6 397.2h4.6c2.6 0 5.1-2.3 5-5-.1-2.7-2.2-5-5-5h-4.6c-2.6 0-5.1 2.3-5 5 .1 2.7 2.2 5 5 5z\"\r\n              className=\"st1\"\r\n            />\r\n          </g>\r\n          <g>\r\n            <path\r\n              d=\"M199.2 397.2h4.6c2.6 0 5.1-2.3 5-5-.1-2.7-2.2-5-5-5h-4.6c-2.6 0-5.1 2.3-5 5 .1 2.7 2.2 5 5 5z\"\r\n              className=\"st1\"\r\n            />\r\n          </g>\r\n          <g className=\"st10\">\r\n            <path\r\n              d=\"M249.5 465v1c.6 8.8 1.5 7.2-8.3 7.1h-7.8c1.5-1.9 1.8-2.4 1.8-5.1v-1.1c0-14.1-5.3-26.9-13.7-36.2-5.5-6-12.3-10.3-19.8-12.7.8 0 1.6.1 2.4.1 13.1.8 26.6 5.6 34.7 14.2 8.1 8.6 10.7 19.9 10.7 32.7z\"\r\n              className=\"st5\"\r\n            />\r\n          </g>\r\n        </svg>\r\n        <svg id=\"planet\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\r\n          <circle className=\"saturn\" cx=\"256\" cy=\"256\" r=\"149.536\" fill=\"#FF4F54\" />\r\n          <g className=\"saturn-2\" fill=\"#EA4753\">\r\n            <path d=\"M109.388 285.56c42.515 1.428 157.943-2.613 289.462-73.807-5.11-16.448-13.02-31.882-23.322-45.604-42.716 29.386-140.403 83.922-268.457 76.27-1.354 14.666-.508 29.175 2.318 43.14zM400.734 293.587c3.976-15.31 5.422-30.68 4.614-45.672-33.75 25.31-137.237 92.367-277.65 84.876 6.507 10.874 14.383 20.93 23.472 29.88 44.354.286 137.696-6.443 245.93-57.163 1.362-3.89 2.58-7.86 3.634-11.92zM245.488 405.184c35.427 2.537 69.784-7.742 97.543-27.59-27.972 11.533-60.787 21.76-97.542 27.59zM348.02 138.097c-15.645-12.225-33.99-21.522-54.434-26.832-71.883-18.667-145.126 18.253-174.25 84.01 49.02-1.676 133.073-12.256 228.685-57.178z\" />\r\n          </g>\r\n          <circle className=\"hover\" cx=\"319.166\" cy=\"208.081\" r=\"28.389\" fill=\"#D83A4E\" />\r\n          <path\r\n            d=\"M331.25 189.492c6.04 1.568 11.114 4.97 14.792 9.452-2.98-8.73-10.143-15.848-19.74-18.34-15.175-3.94-30.672 5.167-34.613 20.342-2.373 9.136-.012 18.384 5.55 25.162-1.73-5.075-2.05-10.695-.602-16.273 3.94-15.177 19.438-24.284 34.613-20.343z\"\r\n            opacity=\".1\"\r\n          />\r\n          <circle className=\"hover\" cx=\"234.463\" cy=\"273.978\" r=\"19.358\" fill=\"#D83A4E\" />\r\n          <path\r\n            d=\"M242.703 261.303c4.118 1.07 7.578 3.39 10.085 6.444-2.03-5.953-6.916-10.806-13.46-12.505-10.347-2.687-20.914 3.523-23.6 13.87-1.62 6.23-.008 12.537 3.785 17.158-1.18-3.46-1.398-7.293-.41-11.097 2.686-10.348 13.252-16.558 23.6-13.87z\"\r\n            opacity=\".1\"\r\n          />\r\n          <circle className=\"hover\" cx=\"307.493\" cy=\"144.207\" r=\"12.584\" fill=\"#D83A4E\" />\r\n          <path\r\n            d=\"M312.85 135.967c2.678.695 4.927 2.204 6.557 4.19-1.32-3.872-4.496-7.026-8.75-8.13-6.727-1.747-13.596 2.29-15.343 9.017-1.052 4.05-.005 8.15 2.46 11.153-.767-2.25-.908-4.74-.267-7.213 1.747-6.727 8.616-10.764 15.343-9.017z\"\r\n            opacity=\".1\"\r\n          />\r\n          <circle className=\"hover\" cx=\"163.289\" cy=\"255.495\" r=\"19.358\" fill=\"#D83A4E\" />\r\n          <path\r\n            d=\"M171.53 242.82c4.118 1.068 7.577 3.388 10.084 6.443-2.03-5.954-6.916-10.806-13.46-12.505-10.348-2.687-20.915 3.523-23.602 13.87-1.618 6.23-.008 12.536 3.785 17.158-1.18-3.46-1.398-7.293-.41-11.097 2.687-10.348 13.255-16.558 23.602-13.87z\"\r\n            opacity=\".1\"\r\n          />\r\n          <circle className=\"hover\" cx=\"230.586\" cy=\"365.92\" r=\"19.358\" fill=\"#D83A4E\" />\r\n          <path\r\n            d=\"M238.826 353.245c4.118 1.07 7.578 3.39 10.085 6.444-2.03-5.954-6.915-10.807-13.46-12.506-10.347-2.688-20.914 3.522-23.6 13.87-1.62 6.23-.01 12.536 3.784 17.157-1.18-3.46-1.398-7.292-.41-11.096 2.688-10.346 13.255-16.556 23.602-13.87z\"\r\n            opacity=\".1\"\r\n          />\r\n          <circle className=\"hover\" cx=\"302.221\" cy=\"353.781\" r=\"19.357\" fill=\"#D83A4E\" />\r\n          <path\r\n            d=\"M310.462 341.105c4.118 1.07 7.577 3.39 10.085 6.445-2.03-5.954-6.916-10.807-13.46-12.506-10.348-2.688-20.914 3.523-23.602 13.87-1.618 6.23-.008 12.536 3.785 17.157-1.18-3.46-1.398-7.29-.41-11.095 2.687-10.346 13.254-16.556 23.602-13.87z\"\r\n            opacity=\".1\"\r\n          />\r\n          <circle className=\"hover\" cx=\"358.827\" cy=\"284.847\" r=\"11.079\" fill=\"#D83A4E\" />\r\n          <path\r\n            d=\"M363.542 277.593c2.357.612 4.337 1.94 5.772 3.688-1.162-3.406-3.958-6.184-7.703-7.156-5.922-1.537-11.97 2.017-13.507 7.938-.926 3.565-.005 7.175 2.166 9.82-.676-1.98-.8-4.175-.235-6.352 1.537-5.92 7.585-9.475 13.507-7.937z\"\r\n            opacity=\".1\"\r\n          />\r\n          <circle className=\"hover\" cx=\"220.465\" cy=\"156.416\" r=\"11.079\" fill=\"#D83A4E\" />\r\n          <path\r\n            d=\"M225.18 149.162c2.358.612 4.338 1.94 5.773 3.688-1.162-3.408-3.958-6.185-7.703-7.157-5.922-1.538-11.97 2.016-13.508 7.938-.926 3.566-.004 7.175 2.167 9.82-.677-1.98-.8-4.174-.236-6.35 1.537-5.922 7.585-9.476 13.507-7.938z\"\r\n            opacity=\".1\"\r\n          />\r\n          <circle className=\"hover\" cx=\"154.027\" cy=\"171.743\" r=\"5.819\" fill=\"#D83A4E\" />\r\n          <path\r\n            d=\"M156.504 167.933c1.238.322 2.278 1.02 3.03 1.938-.61-1.79-2.078-3.248-4.045-3.758-3.11-.808-6.288 1.06-7.095 4.17-.486 1.872-.002 3.767 1.138 5.156-.354-1.04-.42-2.192-.124-3.335.807-3.11 3.984-4.978 7.094-4.17z\"\r\n            opacity=\".1\"\r\n          />\r\n          <circle className=\"hover\" cx=\"391.387\" cy=\"251.305\" r=\"5.819\" fill=\"#D83A4E\" />\r\n          <path\r\n            d=\"M393.864 247.495c1.237.32 2.277 1.02 3.03 1.937-.61-1.79-2.078-3.248-4.045-3.76-3.11-.807-6.288 1.06-7.096 4.17-.486 1.873-.002 3.768 1.138 5.158-.354-1.04-.42-2.192-.123-3.336.807-3.11 3.983-4.977 7.094-4.17z\"\r\n            opacity=\".1\"\r\n          />\r\n          <circle className=\"hover\" cx=\"145.077\" cy=\"302.473\" r=\"5.819\" fill=\"#D83A4E\" />\r\n          <path\r\n            d=\"M147.554 298.662c1.238.322 2.277 1.02 3.03 1.938-.61-1.79-2.078-3.248-4.045-3.76-3.11-.807-6.288 1.06-7.096 4.17-.486 1.873-.002 3.77 1.138 5.157-.355-1.04-.42-2.19-.124-3.335.81-3.11 3.985-4.978 7.096-4.17z\"\r\n            opacity=\".1\"\r\n          />\r\n          <circle className=\"hover\" cx=\"187.342\" cy=\"355.265\" r=\"5.819\" fill=\"#D83A4E\" />\r\n          <path\r\n            d=\"M189.818 351.455c1.238.32 2.278 1.02 3.032 1.938-.61-1.79-2.08-3.25-4.046-3.76-3.11-.808-6.287 1.06-7.095 4.17-.487 1.872-.003 3.768 1.137 5.157-.354-1.04-.42-2.192-.123-3.336.808-3.11 3.984-4.977 7.094-4.17z\"\r\n            opacity=\".1\"\r\n          />\r\n          <path\r\n            d=\"M351.36 140.785c10.244 27.673 12.43 58.646 4.45 89.372-20.76 79.935-102.387 127.907-182.32 107.15-21.917-5.693-41.423-15.968-57.776-29.522 16.405 44.32 53.49 80.17 102.7 92.95 79.934 20.758 161.562-27.214 182.32-107.148 15.068-58.02-6.082-116.922-49.373-152.802z\"\r\n            opacity=\".1\"\r\n          />\r\n          <g>\r\n            <path\r\n              className=\"stars\"\r\n              fill=\"#FFF\"\r\n              d=\"M112.456 363.093c-.056 7.866-6.478 14.197-14.344 14.142 7.866.056 14.198 6.48 14.142 14.345.056-7.866 6.48-14.198 14.345-14.142-7.868-.057-14.2-6.48-14.144-14.345zM432.436 274.908c-.056 7.866-6.478 14.198-14.344 14.142 7.866.057 14.197 6.48 14.142 14.345.056-7.866 6.48-14.197 14.345-14.142-7.868-.056-14.2-6.48-14.144-14.345zM159.75 58.352c-.12 16.537-13.62 29.848-30.157 29.73 16.537.118 29.848 13.62 29.73 30.156.118-16.537 13.62-29.848 30.156-29.73-16.54-.117-29.85-13.62-29.73-30.156z\"\r\n            />\r\n          </g>\r\n        </svg>\r\n        <Link to=\"/\" className=\"denied__link\">\r\n          Go Home\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import * as React from 'react';\r\n\r\nexport default function Footer() {\r\n  const currentYear = new Date().getFullYear();\r\n\r\n  return (\r\n    <footer className=\"sticky-footer\">\r\n      <div className=\"container\">\r\n        <div className=\"text-center\">\r\n          <small>Copyright © Amir Karamuja {currentYear}</small>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n","import { Link } from 'react-router-dom';\r\nimport * as React from 'react';\r\n\r\nexport interface INavLinkProps {\r\n  children?: JSX.Element | JSX.Element[];\r\n  location: Location;\r\n  onMenuClick?: (event: React.MouseEvent<HTMLElement>) => any;\r\n  to: string;\r\n}\r\n\r\nexport default function NavLink({ children, location, onMenuClick, to }: INavLinkProps) {\r\n  const isActive = location.pathname === to;\r\n  const className = isActive ? ' active' : '';\r\n  return (\r\n    <li className={`nav-item${className}`} onClick={onMenuClick}>\r\n      <Link className=\"nav-link\" to={to}>\r\n        {children}\r\n      </Link>\r\n    </li>\r\n  );\r\n}\r\n","import * as React from 'react';\r\nimport NavLink from './NavLink';\r\n\r\ninterface ISideMenuProps {\r\n  location: Location;\r\n  onMenuClick?: (event: React.MouseEvent<HTMLElement>) => any;\r\n}\r\n\r\nexport default function SideMenu({ location, onMenuClick }: ISideMenuProps) {\r\n  return (\r\n    <ul className=\"navbar-nav navbar-sidenav\">\r\n      <NavLink location={location} to=\"/\" onMenuClick={onMenuClick}>\r\n        <span className=\"fas fa-tachometer-alt\" aria-hidden=\"true\" />\r\n        <span className=\"nav-link-text\">Dashboard</span>\r\n      </NavLink>\r\n\r\n      <NavLink location={location} to=\"/lights\" onMenuClick={onMenuClick}>\r\n        <span className=\"fas fa-lightbulb\" aria-hidden=\"true\" />\r\n        <span className=\"nav-link-text\">Lights</span>\r\n      </NavLink>\r\n\r\n      <NavLink location={location} to=\"/weather\" onMenuClick={onMenuClick}>\r\n        <span className=\"fas fa-sun\" aria-hidden=\"true\" />\r\n        <span className=\"nav-link-text\">Weather</span>\r\n      </NavLink>\r\n\r\n      <NavLink location={location} to=\"/api\" onMenuClick={onMenuClick}>\r\n        <span className=\"fas fa-clipboard-list\" aria-hidden=\"true\" />\r\n        <span className=\"nav-link-text\">API</span>\r\n      </NavLink>\r\n\r\n      <NavLink location={location} to=\"/someUnknown\" onMenuClick={onMenuClick}>\r\n        <span className=\"fas fa-exclamation-circle\" aria-hidden=\"true\" />\r\n        <span className=\"nav-link-text\">Error 404</span>\r\n      </NavLink>\r\n    </ul>\r\n  );\r\n}\r\n","import { inject, observer } from 'mobx-react';\r\nimport { IRootStore, storeDefaultProps } from '../../store';\r\nimport * as React from 'react';\r\n\r\ninterface ISideNavTogglerOwnProps {}\r\n\r\nexport type ISideNavTogglerProps = ISideNavTogglerOwnProps & Partial<IRootStore>;\r\n\r\nfunction SideNavToggler({ store = storeDefaultProps.store }: ISideNavTogglerProps) {\r\n  const { uiStore } = store;\r\n  const { sideNavOpen, toggleSideNav } = uiStore;\r\n\r\n  return (\r\n    <ul className=\"navbar-nav sidenav-toggler\">\r\n      <li className=\"nav-item\">\r\n        <div\r\n          role=\"button\"\r\n          className=\"nav-link text-center\"\r\n          id=\"sideNavToggler\"\r\n          onClick={toggleSideNav}\r\n        >\r\n          <i className={`fa fa-fw fa-angle-${sideNavOpen ? 'left' : 'right'}`} aria-hidden=\"true\" />\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default inject('store')(observer(SideNavToggler));\r\n","import { CSSTransition, TransitionGroup } from 'react-transition-group';\r\nimport { IDismissNotification } from '../../store/AppState';\r\nimport * as React from 'react';\r\nimport reactOnclickoutside from 'react-onclickoutside';\r\nimport ReactTooltip from 'react-tooltip';\r\n\r\nexport interface INotificationProps {\r\n  closeOnOutsideClick?: boolean;\r\n  dismissNotification: IDismissNotification;\r\n  icon?: string;\r\n  id: number;\r\n  ident: string;\r\n  link?: string;\r\n  notificationCount: number;\r\n  notifications?: INotification[];\r\n  title: string;\r\n  type?: string;\r\n}\r\n\r\nexport interface INotification {\r\n  id: number;\r\n  ident: string;\r\n  title: string;\r\n  date: string;\r\n  content: string;\r\n}\r\n\r\nexport interface INotificationState {\r\n  expanded: boolean;\r\n}\r\n\r\nclass Notification extends React.Component<INotificationProps, INotificationState> {\r\n  constructor(props: INotificationProps) {\r\n    super(props);\r\n    this.state = {\r\n      expanded: false,\r\n    };\r\n    this.toggle = this.toggle.bind(this);\r\n  }\r\n\r\n  toggle(e?: React.MouseEvent<HTMLElement>) {\r\n    if (e) e.preventDefault();\r\n    this.setState({ expanded: !this.state.expanded });\r\n  }\r\n\r\n  handleClickOutside(e: React.MouseEvent<HTMLElement>) {\r\n    const { closeOnOutsideClick = true } = this.props;\r\n    if (this.state.expanded && closeOnOutsideClick) this.toggle();\r\n  }\r\n\r\n  render() {\r\n    const { expanded } = this.state;\r\n    const {\r\n      dismissNotification,\r\n      icon = 'exclamation-triangle',\r\n      notificationCount = 0,\r\n      notifications = [],\r\n      ident,\r\n      title,\r\n      type = 'primary',\r\n    } = this.props;\r\n    const tooltipId = `tooltip-${ident}-${this.props.id}`;\r\n\r\n    if (!notificationCount) {\r\n      return (\r\n        <li\r\n          className={`nav-item dropdown${expanded ? ' show' : ''}`}\r\n          data-tip={`No new ${title}`}\r\n          data-for={tooltipId}\r\n        >\r\n          <span className=\"nav-link no-items\">\r\n            <span className={`fas fa-${icon}`} aria-hidden=\"true\" />\r\n            <span className=\"d-lg-none\">{title}</span>\r\n          </span>\r\n          <ReactTooltip id={tooltipId} />\r\n        </li>\r\n      );\r\n    }\r\n\r\n    const id = `${title.toLowerCase}Dropdown`;\r\n\r\n    return (\r\n      <li className={`nav-item dropdown${expanded ? ' show' : ''}`}>\r\n        <button\r\n          aria-expanded={expanded}\r\n          aria-haspopup=\"true\"\r\n          className=\"nav-link dropdown-toggle mr-lg-2 w-100 text-left border-0 bg-transparent outline-0\"\r\n          data-toggle=\"dropdown\"\r\n          id={id}\r\n          onClick={this.toggle}\r\n        >\r\n          <span className={`fas fa-${icon}`} aria-hidden=\"true\" />\r\n          <span className=\"d-lg-none\">\r\n            {title}\r\n            {notificationCount > 0 && (\r\n              <span className={`ml-2 badge badge-pill badge-${type}`}>{notificationCount} New</span>\r\n            )}\r\n          </span>\r\n          <span className={`indicator text-${type} d-none d-lg-block`}>\r\n            <span className=\"heartbeat\" />\r\n            <span className=\"fa fa-fw fa-circle\" aria-hidden=\"true\" />\r\n          </span>\r\n        </button>\r\n        <div\r\n          className={`dropdown-menu dropdown-menu-right scale-up${expanded ? ' show' : ''}`}\r\n          aria-labelledby={id}\r\n        >\r\n          <h6 className=\"dropdown-header\">New {title}:</h6>\r\n          <div className=\"dropdown-divider\" />\r\n          <TransitionGroup>\r\n            {notifications.map((notificationObj) => (\r\n              <CSSTransition timeout={300} classNames=\"fade\" key={notificationObj.id}>\r\n                <div>\r\n                  <div className=\"dropdown-item\">\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"close\"\r\n                      aria-label=\"Dismiss\"\r\n                      onClick={() => dismissNotification(this.props.ident, notificationObj.id)}\r\n                    >\r\n                      <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                    <strong>{notificationObj.title}</strong>\r\n                    <span className=\"small float-right text-muted\">{notificationObj.date}</span>\r\n                    <div className=\"dropdown-message small\">{notificationObj.content}</div>\r\n                  </div>\r\n                  <div className=\"dropdown-divider\" />\r\n                </div>\r\n              </CSSTransition>\r\n            ))}\r\n          </TransitionGroup>\r\n          <button className=\"dropdown-item small\">View all {title.toLowerCase()}</button>\r\n        </div>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default (reactOnclickoutside as any)(Notification);\r\n","import { inject, observer } from 'mobx-react';\r\nimport { IRootStore, storeDefaultProps } from '../../store';\r\nimport { Redirect } from 'react-router-dom';\r\nimport * as React from 'react';\r\nimport NavLink from './NavLink';\r\nimport Notification from './Notification';\r\n\r\ninterface ITopMenuOwnProps {\r\n  location: Location;\r\n  onMenuClick?: (event: React.MouseEvent<HTMLElement>) => any;\r\n}\r\n\r\nexport type ITopMenuProps = ITopMenuOwnProps & Partial<IRootStore>;\r\n\r\nfunction TopMenu({ location, onMenuClick, store = storeDefaultProps.store }: ITopMenuProps) {\r\n  const { appStore, uiStore } = store;\r\n  const { alerts = [], dismissNotification, messages = [], userFullName } = appStore;\r\n  const { windowDimensions } = uiStore;\r\n  const { width } = windowDimensions;\r\n\r\n  const logout = () => {\r\n    appStore.logout().then(() => <Redirect to=\"/\" />);\r\n  };\r\n  return (\r\n    <ul className=\"navbar-nav ml-auto\">\r\n      <Notification\r\n        closeOnOutsideClick={width > 991}\r\n        dismissNotification={dismissNotification}\r\n        icon=\"envelope\"\r\n        id={1}\r\n        ident=\"messages\"\r\n        notificationCount={messages.length}\r\n        notifications={messages}\r\n        title=\"Messages\"\r\n      />\r\n\r\n      <Notification\r\n        closeOnOutsideClick={width > 991}\r\n        dismissNotification={dismissNotification}\r\n        icon=\"bell\"\r\n        id={2}\r\n        ident=\"alerts\"\r\n        notificationCount={alerts.length}\r\n        notifications={alerts}\r\n        title=\"Alerts\"\r\n        type=\"warning\"\r\n      />\r\n\r\n      <NavLink location={location} to=\"/account\" onMenuClick={onMenuClick}>\r\n        <span className=\"fas fa-user-circle\" aria-hidden=\"true\" />\r\n        <span className=\"nav-link-text\">{userFullName}</span>\r\n      </NavLink>\r\n      <li className=\"nav-item\">\r\n        <button\r\n          className=\"nav-link mr-lg-2 w-100 text-left border-0 bg-transparent outline-0\"\r\n          onClick={logout}\r\n        >\r\n          <span className=\"fas fa-sign-out-alt\" aria-hidden=\"true\" />\r\n          Logout\r\n        </button>\r\n      </li>\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default inject('store')(observer(TopMenu));\r\n","import { inject, observer } from 'mobx-react';\r\nimport { ILocation, IRootStore, storeDefaultProps, locationDefaultProps } from '../../store';\r\nimport { Link } from 'react-router-dom';\r\nimport * as React from 'react';\r\nimport SideMenu from './SideMenu';\r\nimport SideNavToggler from './SideNavToggler';\r\nimport TopMenu from './TopMenu';\r\n\r\ninterface IHeaderOwnProps {}\r\n\r\nexport type IHeaderProps = IHeaderOwnProps & Partial<IRootStore> & Partial<ILocation>;\r\n\r\nfunction Header({\r\n  location = locationDefaultProps.location,\r\n  store = storeDefaultProps.store,\r\n}: IHeaderProps) {\r\n  const { uiStore } = store;\r\n  const { menuCollapsed, collapseMenu } = uiStore;\r\n\r\n  const handleMenuClick = (event: React.MouseEvent<HTMLElement>) => {\r\n    const { uiStore } = store;\r\n    const { menuCollapsed, collapseMenu, windowDimensions } = uiStore;\r\n    const { width } = windowDimensions;\r\n    if (width < 992 && !menuCollapsed) {\r\n      collapseMenu();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark fixed-top\" id=\"mainNav\">\r\n      <Link className=\"navbar-brand\" to=\"/\">\r\n        <span className=\"fas fa-bolt\" aria-hidden=\"true\" />\r\n        <div className=\"scan-wrapper\">\r\n          <div className=\"focus\">Home Control Dashboard</div>\r\n          <div className=\"mask\">\r\n            <div className=\"text\">Home Control Dashboard</div>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n      <button\r\n        onClick={collapseMenu}\r\n        className={`navbar-toggler navbar-toggler-right${menuCollapsed ? ' collapsed' : ''}`}\r\n        type=\"button\"\r\n        data-toggle=\"collapse\"\r\n        data-target=\"#navbarResponsive\"\r\n        aria-controls=\"navbarResponsive\"\r\n        aria-expanded={!menuCollapsed}\r\n        aria-label=\"Toggle navigation\"\r\n      >\r\n        <span className=\"navbar-toggler-icon\" />\r\n      </button>\r\n      <div\r\n        className={`navbar-collapse${menuCollapsed ? ' collapse' : ' show'}`}\r\n        id=\"navbarResponsive\"\r\n      >\r\n        <SideMenu location={location} onMenuClick={handleMenuClick} />\r\n        <SideNavToggler />\r\n        <TopMenu location={location} onMenuClick={handleMenuClick} />\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default inject('store')(observer(Header));\r\n","import { inject, observer } from 'mobx-react';\r\nimport * as React from 'react';\r\nimport { IRootStore, storeDefaultProps } from '../../store';\r\n\r\nexport interface ILightSwitch {\r\n  group?: string;\r\n  groupLabel?: string;\r\n  id: number;\r\n  ident: string;\r\n  label: string;\r\n  value: boolean;\r\n}\r\n\r\ninterface ILightSwitchOwnProps extends ILightSwitch {\r\n  storeKey: string;\r\n}\r\n\r\nexport type ILightSwitchProps = ILightSwitchOwnProps & Partial<IRootStore>;\r\n\r\nfunction LightSwitch({\r\n  group,\r\n  groupLabel,\r\n  id,\r\n  ident,\r\n  label,\r\n  store = storeDefaultProps.store,\r\n  storeKey = '',\r\n  value,\r\n}: ILightSwitchProps) {\r\n  const { appStore } = store;\r\n  const { setValue } = appStore;\r\n  const switchId = `lightswitch-${storeKey}-${id}`;\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (storeKey) {\r\n      setValue(storeKey, ident, id, !value);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <input\r\n        checked={value}\r\n        className=\"light-switch\"\r\n        id={switchId}\r\n        name=\"switch\"\r\n        onChange={handleChange}\r\n        type=\"checkbox\"\r\n      />\r\n      <label className=\"switch\" htmlFor={switchId}>\r\n        <span className=\"text\">{label}</span>\r\n        <span className=\"indicator\" />\r\n      </label>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default inject('store')(observer(LightSwitch));\r\n","import { inject, observer } from 'mobx-react';\r\nimport { IRootStore, storeDefaultProps } from '../../store';\r\nimport { Link } from 'react-router-dom';\r\nimport * as React from 'react';\r\nimport LightSwitch, { ILightSwitch } from '../content/LightSwitch';\r\n\r\ninterface ILightsOwnProps {}\r\n\r\nexport type ILightsProps = ILightsOwnProps & Partial<IRootStore>;\r\n\r\nfunction Lights({ store = storeDefaultProps.store }: ILightsProps) {\r\n  const { appStore } = store;\r\n  const { lights = [] } = appStore;\r\n  const groups: { [key: string]: ILightSwitch[] } = {};\r\n\r\n  for (const light of lights) {\r\n    const group = light.group ? light.group : 'noGroup';\r\n    if (groups.hasOwnProperty(group)) {\r\n      groups[group].push(light);\r\n    } else {\r\n      groups[group] = [light];\r\n    }\r\n  }\r\n\r\n  const groupsArr = [];\r\n  for (const groupKey in groups) {\r\n    if (groups.hasOwnProperty(groupKey)) {\r\n      const lightsArr: ILightSwitch[] = groups[groupKey];\r\n      groupsArr.push(lightsArr);\r\n    }\r\n  }\r\n\r\n  const cardRows = [];\r\n  let temp = [];\r\n  let count = 0;\r\n  for (const group of groupsArr) {\r\n    temp.push(group);\r\n    count += 1;\r\n    if (count % 3 === 0 || count === groupsArr.length) {\r\n      cardRows.push(temp);\r\n      temp = [];\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <ol className=\"breadcrumb\">\r\n        <li className=\"breadcrumb-item\">\r\n          <Link to=\"/lights\">Lights</Link>\r\n        </li>\r\n        <li className=\"breadcrumb-item active\">Control house lighting</li>\r\n      </ol>\r\n      <article>\r\n        {cardRows.map((row, i) => (\r\n          <div className=\"row row-eq-height\" key={`lights-row-${i}`}>\r\n            {row.map((group) => {\r\n              const firstLight = group[0];\r\n              return (\r\n                <div className=\"col-md-4 mb-3\" key={`lights-column-${firstLight.group}`}>\r\n                  <div className=\"card h-100 zIndex1\">\r\n                    <div className=\"card-header\">\r\n                      <h5 className=\"card-title mb-0\">\r\n                        {firstLight.groupLabel ? firstLight.groupLabel : 'Lights'}\r\n                      </h5>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <fieldset>\r\n                        {group.map((light) => (\r\n                          <LightSwitch key={`light-${light.id}`} storeKey=\"lights\" {...light} />\r\n                        ))}\r\n                      </fieldset>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        ))}\r\n      </article>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default inject('store')(observer(Lights));\r\n","import { inject, observer } from 'mobx-react';\r\nimport { IRootStore, storeDefaultProps } from '../../store';\r\nimport * as React from 'react';\r\n\r\nconst { useRef, useState } = React;\r\n\r\ninterface ILoginFormOwnProps {}\r\n\r\nexport type ILoginFormProps = ILoginFormOwnProps & Partial<IRootStore>;\r\n\r\ninterface ILoginFormPropsState {\r\n  error?: string | null;\r\n  password: string;\r\n  pristine: boolean;\r\n  submitting: boolean;\r\n  username: string;\r\n}\r\n\r\nconst initState = () => {\r\n  return { error: null, username: '', password: '', pristine: true, submitting: false };\r\n};\r\n\r\nfunction LoginForm({ store = storeDefaultProps.store }: ILoginFormProps) {\r\n  const [state, setState] = useState<ILoginFormPropsState>(initState());\r\n  const passwordRef = useRef<HTMLInputElement>(null);\r\n\r\n  const { appStore } = store;\r\n  const { username, password, error, pristine, submitting } = state;\r\n  const submitDisabled =\r\n    username === '' ||\r\n    password === '' ||\r\n    submitting ||\r\n    (typeof error === 'string' && pristine) ||\r\n    (!error && pristine);\r\n\r\n  const handleChange = (event: React.FormEvent<HTMLInputElement>) => {\r\n    const name = event.currentTarget.name;\r\n    const value = event.currentTarget.value;\r\n    setState((s) => ({ ...s, [name]: value, pristine: false }));\r\n  };\r\n\r\n  const handleKeyPress = (event: React.KeyboardEvent<HTMLInputElement>) => {\r\n    const name = event.currentTarget.name;\r\n\r\n    if (event.key === 'Enter') {\r\n      if (name === 'username') {\r\n        if (passwordRef.current) {\r\n          passwordRef.current.focus();\r\n        }\r\n      } else if (name === 'password') {\r\n        handleSubmit();\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    setState((s) => ({\r\n      ...s,\r\n      error: null,\r\n      pristine: true,\r\n      submitting: true,\r\n    }));\r\n    appStore.login(username, password).then((response) => {\r\n      const error = typeof response === 'string' ? response : null;\r\n      if (error) {\r\n        setState((s) => ({\r\n          ...s,\r\n          error: error ? String(error) : 'Oops, something went wrong.',\r\n          pristine: true,\r\n          submitting: false,\r\n        }));\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      {error && (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"username\">Username</label>\r\n        <div className=\"input-group\">\r\n          <span className=\"input-group-prepend\">\r\n            <div className=\"input-group-text\">\r\n              <span className=\"fas fa-user\" aria-hidden=\"true\" />\r\n            </div>\r\n          </span>\r\n          <input\r\n            className=\"form-control\"\r\n            id=\"username\"\r\n            name=\"username\"\r\n            onChange={handleChange}\r\n            onKeyPress={handleKeyPress}\r\n            placeholder=\"Enter username\"\r\n            type=\"text\"\r\n            value={username}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"exampleInputPassword1\">Password</label>\r\n        <div className=\"input-group\">\r\n          <span className=\"input-group-prepend\">\r\n            <div className=\"input-group-text\">\r\n              <span className=\"fas fa-unlock-alt\" aria-hidden=\"true\" />\r\n            </div>\r\n          </span>\r\n          <input\r\n            className=\"form-control\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            onChange={handleChange}\r\n            onKeyPress={handleKeyPress}\r\n            placeholder=\"Enter password\"\r\n            ref={passwordRef}\r\n            type=\"password\"\r\n            value={password}\r\n          />\r\n        </div>\r\n      </div>\r\n      <button\r\n        className={`btn btn-primary btn-block${submitDisabled ? ' disabled' : ''}`}\r\n        disabled={submitDisabled}\r\n        onClick={handleSubmit}\r\n        type=\"button\"\r\n      >\r\n        {submitting ? <span className=\"fas fa-spinner fa-pulse\" aria-hidden=\"true\" /> : 'Login'}\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default inject('store')(observer(LoginForm));\r\n","import { inject, observer } from 'mobx-react';\r\nimport { IRootStore, storeDefaultProps } from '../../store';\r\nimport { particleOps } from './Error404';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport * as React from 'react';\r\nimport LoginForm from '../form/LoginForm';\r\nimport Particles from 'react-particles-js';\r\n\r\nconst { useState } = React;\r\n\r\ninterface ILoginOwnProps {\r\n  location?: { state: { from: { pathname: string; search?: string } } };\r\n}\r\n\r\nexport type ILoginProps = ILoginOwnProps & Partial<IRootStore>;\r\n\r\nfunction Login({\r\n  location = { state: { from: { pathname: '/' } } },\r\n  store = storeDefaultProps.store,\r\n}: ILoginProps) {\r\n  const [forgotPassword, setForgotPassword] = useState(false);\r\n  const from = location?.state?.from || '/';\r\n  const { appStore } = store;\r\n  const { user } = appStore;\r\n  const logginCls = typeof user === 'string' ? ' shake' : '';\r\n\r\n  if (appStore.isLoggedIn) {\r\n    return <Redirect to={from} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container-fluid permission_denied\">\r\n      <Particles className=\"particles-js\" params={particleOps} />\r\n      <div className={`card card-login mx-auto mt-5${logginCls}`}>\r\n        <div className=\"card-header\">\r\n          <span className=\"fas fa-bolt\" aria-hidden=\"true\" /> Home Control Dashboard Login\r\n        </div>\r\n        <div className=\"card-body\">\r\n          {forgotPassword && (\r\n            <div className=\"alert alert-info\" role=\"alert\">\r\n              <button\r\n                aria-label=\"Close\"\r\n                className=\"close\"\r\n                data-dismiss=\"alert\"\r\n                onClick={() => setForgotPassword(false)}\r\n                type=\"button\"\r\n              >\r\n                <span aria-hidden=\"true\">&times;</span>\r\n              </button>\r\n              Think harder...\r\n            </div>\r\n          )}\r\n          <LoginForm />\r\n        </div>\r\n        <div className=\"card-footer\">\r\n          <div className=\"row\">\r\n            <div className=\"col-6\">\r\n              <Link to=\"/login\" onClick={() => setForgotPassword(true)}>\r\n                <span className=\"fas fa-question-circle\" aria-hidden=\"true\" /> Forgot password\r\n              </Link>\r\n            </div>\r\n            <div className=\"col-6 text-right\">\r\n              <Link to=\"/register\">\r\n                Register <span className=\"fas fa-arrow-circle-right\" aria-hidden=\"true\" />\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default inject('store')(observer(Login));\r\n","import * as React from 'react';\r\n\r\nexport default function Loading() {\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col-md-12\">\r\n        <div className=\"spinner\">\r\n          <div className=\"rect1\" />\r\n          <div className=\"rect2\" />\r\n          <div className=\"rect3\" />\r\n          <div className=\"rect4\" />\r\n          <div className=\"rect5\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { Redirect, Route } from 'react-router-dom';\r\nimport * as React from 'react';\r\nimport Loading from '../components/Loading';\r\n\r\nexport interface IPrivateRouteProps {\r\n  component: any;\r\n  controlsInitialized: boolean;\r\n  exact?: boolean;\r\n  isLoggedIn: boolean;\r\n  path: string;\r\n}\r\n\r\nexport default function PrivateRoute(props: IPrivateRouteProps) {\r\n  const { controlsInitialized, isLoggedIn, component: Component, ...rest } = props;\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props: any) =>\r\n        isLoggedIn ? (\r\n          controlsInitialized ? (\r\n            <Component {...props} />\r\n          ) : (\r\n            <div className=\"container-fluid\">\r\n              <Loading />\r\n            </div>\r\n          )\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: '/login',\r\n              state: { from: props.location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n","import { inject, observer } from 'mobx-react';\r\nimport { IRootStore, storeDefaultProps } from '../../store';\r\nimport { particleOps } from './Error404';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport * as React from 'react';\r\nimport Particles from 'react-particles-js';\r\nimport RegisterForm from '../form/RegisterForm';\r\n\r\ninterface IRegisterOwnProps {}\r\n\r\nexport type IRegisterProps = IRegisterOwnProps & Partial<IRootStore>;\r\n\r\nfunction Register({ store = storeDefaultProps.store }: IRegisterProps) {\r\n  const from = '/';\r\n  const { appStore } = store;\r\n  const { user } = appStore;\r\n  const logginCls = typeof user === 'string' ? ' shake' : '';\r\n\r\n  if (appStore.isLoggedIn) {\r\n    return <Redirect to={from} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container-fluid permission_denied\">\r\n      <Particles className=\"particles-js\" params={particleOps} />\r\n      <div className={`card card-register mx-auto mt-5${logginCls}`}>\r\n        <div className=\"card-header\">\r\n          <span className=\"fas fa-bolt\" aria-hidden=\"true\" /> Home Control Dashboard Register\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <RegisterForm />\r\n        </div>\r\n        <div className=\"card-footer text-right\">\r\n          <Link to=\"/login\">\r\n            <span className=\"fas fa-arrow-circle-left\" aria-hidden=\"true\" /> Login\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default inject('store')(observer(Register));\r\n","import * as React from 'react';\r\n\r\nexport default function Error({ title }: { title: string }) {\r\n  return (\r\n    <div className=\"card text-white bg-danger o-hidden h-100\">\r\n      <div className=\"card-body\">\r\n        <div className=\"card-body-icon\">\r\n          <i className=\"fas fa-exclamation-triangle\" />\r\n        </div>\r\n        <h4>Well, this is embarrassing</h4>\r\n        <div className=\"mr-5\">{title}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import * as React from 'react';\r\nimport moment from 'moment';\r\n\r\nexport interface IWeatherCardProps {\r\n  date: number;\r\n  header?: string;\r\n  high: number;\r\n  humidity: number;\r\n  icon: number;\r\n  lastUpdate?: number;\r\n  low: number;\r\n  minimal?: boolean;\r\n  subTitle?: string;\r\n  temp: number;\r\n  title?: string;\r\n  update?: () => any;\r\n  updating?: boolean;\r\n  wind: number;\r\n}\r\n\r\nexport default function WeatherCard({\r\n  date,\r\n  header,\r\n  high,\r\n  humidity,\r\n  icon,\r\n  lastUpdate,\r\n  low,\r\n  minimal,\r\n  subTitle,\r\n  temp,\r\n  title,\r\n  update,\r\n  updating,\r\n  wind,\r\n}: IWeatherCardProps) {\r\n  const momentDate = moment.unix(date);\r\n  const dateText = minimal\r\n    ? momentDate.format('dddd / D')\r\n    : `Last updated: ${moment(lastUpdate).format('dddd, h:mm:ss a')}`;\r\n\r\n  const handleUpdateClick = () => {\r\n    if (updating || !update) return;\r\n    update();\r\n  };\r\n\r\n  return (\r\n    <div className={`card weather${minimal ? ' minimal' : ''}`}>\r\n      {header && (\r\n        <div className=\"card-header\">\r\n          <span className=\"fas fa-sun\" aria-hidden=\"true\" /> {header}\r\n        </div>\r\n      )}\r\n      <div className=\"card-body\">\r\n        <div className=\"row\">\r\n          <div className=\"col-sm-12\">\r\n            <div className=\"date\">\r\n              {dateText}\r\n              {!minimal && (\r\n                <button\r\n                  className=\"btn btn-secondary btn-sm ml-1 update\"\r\n                  onClick={handleUpdateClick}\r\n                  type=\"button\"\r\n                >\r\n                  <span className={`fas fa-sync${updating ? ' fa-spin' : ''}`} aria-hidden=\"true\" />{' '}\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-sm-3\">\r\n            <div className=\"icon\">\r\n              <span className={`owf owf-${icon}`} aria-hidden=\"true\" />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-sm-6\">\r\n            <div className=\"description\">\r\n              <div className=\"title\">{title}</div>\r\n              <div className=\"sub-title\">{subTitle}</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-sm-3\">\r\n            <div className=\"temperature\">\r\n              {temp} <small>&deg;C</small>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <hr />\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-sm-4\">\r\n            <div className=\"humidty\">\r\n              <span className=\"fas fa-umbrella\" aria-hidden=\"true\" /> {humidity}%\r\n            </div>\r\n          </div>\r\n          <div className=\"col-sm-4\">\r\n            <div className=\"temp\">\r\n              <span className=\"fas fa-thermometer-half\" aria-hidden=\"true\" /> {low} &deg; {high}{' '}\r\n              &deg;\r\n            </div>\r\n          </div>\r\n          <div className=\"col-sm-4\">\r\n            <div className=\"wind\">\r\n              <span className=\"fas fa-flag\" aria-hidden=\"true\" /> {wind} km/h\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { inject, observer } from 'mobx-react';\r\nimport { IRootStore, storeDefaultProps } from '../../store';\r\nimport * as React from 'react';\r\nimport Error from '../Error';\r\nimport Loading from '../Loading';\r\nimport WeatherCard from './WeatherCard';\r\n\r\nexport interface ICity {\r\n  id: number;\r\n  name: string;\r\n  coord: {\r\n    lat: number;\r\n    lon: number;\r\n  };\r\n  country: string;\r\n}\r\n\r\nexport interface IWeatherStation {\r\n  id: 802;\r\n  main: string;\r\n  description: string;\r\n  icon: string;\r\n}\r\n\r\nexport interface IWeatherStationObj {\r\n  dt: number;\r\n  main: {\r\n    temp: number;\r\n    temp_min: number;\r\n    temp_max: number;\r\n    pressure: number;\r\n    sea_level: number;\r\n    grnd_level: number;\r\n    humidity: number;\r\n    temp_kf: number;\r\n  };\r\n  weather: IWeatherStation[];\r\n  clouds: {\r\n    all: number;\r\n  };\r\n  wind: {\r\n    speed: number;\r\n    deg: number;\r\n  };\r\n  rain: { [key: string]: number };\r\n  sys: {\r\n    pod: string;\r\n  };\r\n  dt_txt: string;\r\n}\r\n\r\nexport interface IForecastObj {\r\n  cod: string;\r\n  message: number;\r\n  cnt: number;\r\n  list: IWeatherStationObj[];\r\n  city: ICity;\r\n}\r\n\r\ninterface IWeatherStationOwnProps {}\r\n\r\nexport type IWeatherStationProps = IWeatherStationOwnProps & Partial<IRootStore>;\r\n\r\nfunction WeatherStation({ store = storeDefaultProps.store }: IWeatherStationProps) {\r\n  const { appStore } = store;\r\n  const { loadWeather, weather } = appStore;\r\n  const { error, loaded, updating, forecast, currentWeather, lastUpdate } = weather;\r\n\r\n  if (error) return <Error title={error} />;\r\n  if (!loaded || !forecast || !currentWeather) return <Loading />;\r\n\r\n  const { city } = forecast;\r\n  const { name } = city;\r\n  const listItems = forecast.list.filter((obj) => {\r\n    return obj.dt_txt.split(' ')[1] === '12:00:00';\r\n  });\r\n  const weatherCards = listItems.map((obj) => {\r\n    return (\r\n      <div className=\"d-flex justify-content-around\" key={obj.dt}>\r\n        <WeatherCard\r\n          date={obj.dt}\r\n          high={Math.round(obj.main.temp_max)}\r\n          humidity={obj.main.humidity}\r\n          icon={obj.weather[0].id}\r\n          low={Math.round(obj.main.temp_min)}\r\n          minimal={true}\r\n          subTitle={`${obj.weather[0].description\r\n            .charAt(0)\r\n            .toUpperCase()}${obj.weather[0].description.slice(1)}`}\r\n          temp={Math.round(obj.main.temp)}\r\n          title={name}\r\n          updating={updating}\r\n          wind={Math.round(obj.wind.speed)}\r\n        />\r\n      </div>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col-md-5 col-sm-12 mb-3\">\r\n        <WeatherCard\r\n          date={currentWeather.dt}\r\n          header=\"Current conditions\"\r\n          high={Math.round(currentWeather.main.temp_max)}\r\n          humidity={currentWeather.main.humidity}\r\n          icon={currentWeather.weather[0].id}\r\n          lastUpdate={lastUpdate}\r\n          low={Math.round(currentWeather.main.temp_min)}\r\n          subTitle={`${currentWeather.weather[0].description\r\n            .charAt(0)\r\n            .toUpperCase()}${currentWeather.weather[0].description.slice(1)}`}\r\n          temp={Math.round(currentWeather.main.temp)}\r\n          title={name}\r\n          update={loadWeather}\r\n          updating={updating}\r\n          wind={Math.round(currentWeather.wind.speed)}\r\n        />\r\n      </div>\r\n      <div className=\"col-md-7 col-sm-12\">\r\n        <div className=\"card\">\r\n          <div className=\"card-header\">\r\n            <span className=\"fas fa-newspaper\" aria-hidden=\"true\" /> 5 Day Forecast\r\n          </div>\r\n          <div className=\"card-body overflow-x-auto\">\r\n            <div className=\"d-flex\">{weatherCards}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default inject('store')(observer(WeatherStation));\r\n","import { inject, observer } from 'mobx-react';\r\nimport { IRootStore, storeDefaultProps } from '../../store';\r\nimport { Link } from 'react-router-dom';\r\nimport * as React from 'react';\r\nimport Callout from '../content/Callout';\r\nimport WeatherStation from '../content/WeatherStation';\r\n\r\nconst { useEffect } = React;\r\n\r\ninterface IWeatherStationOwnProps {}\r\n\r\nexport type IWeatherStationProps = IWeatherStationOwnProps & Partial<IRootStore>;\r\n\r\nfunction Weather({ store = storeDefaultProps.store }: IWeatherStationProps) {\r\n  const { appStore } = store;\r\n  const { loadWeather, user } = appStore;\r\n  const weatherApiId = user?.api?.weatherApiId;\r\n\r\n  useEffect(() => {\r\n    loadWeather();\r\n  }, [loadWeather, weatherApiId]);\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <ol className=\"breadcrumb\">\r\n        <li className=\"breadcrumb-item\">\r\n          <Link to=\"/weather\">Weather</Link>\r\n        </li>\r\n        <li className=\"breadcrumb-item active\">Plan for the week</li>\r\n      </ol>\r\n      {!weatherApiId && (\r\n        <Callout\r\n          type=\"warning\"\r\n          title=\"Open Weather API id missing\"\r\n          description=\"In order for this component to work, you must define your Open Weather API id in your account settings.\"\r\n        />\r\n      )}\r\n      {weatherApiId && (\r\n        <React.Fragment>\r\n          <Callout\r\n            type=\"success-secondary\"\r\n            title=\"Weather Forecast\"\r\n            description=\"Upcoming weather conditions for your area.\"\r\n          />\r\n          <WeatherStation />\r\n        </React.Fragment>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default inject('store')(observer(Weather));\r\n","import { inject, observer } from 'mobx-react';\nimport { IRootStore, storeDefaultProps } from './store';\nimport { Route, Switch } from 'react-router-dom';\nimport * as React from 'react';\nimport Account from './components/pages/Account';\nimport Api from './components/pages/Api';\nimport Dashboard from './components/pages/Dashboard';\nimport Error404 from './components/pages/Error404';\nimport Footer from './components/footer/Footer';\nimport Header from './components/header/Header';\nimport Lights from './components/pages/Lights';\nimport Login from './components/pages/Login';\nimport PrivateRoute from './HOC/PrivateRoute';\nimport Register from './components/pages/Register';\nimport Weather from './components/pages/Weather';\n\nconst { useEffect, useState } = React;\n\ninterface IAppOwnProps {}\n\ntype IAppProps = IAppOwnProps & Partial<IRootStore>;\n\nfunction App({ store = storeDefaultProps.store }: IAppProps) {\n  const { appStore } = store;\n  const { controlsInitialized, isLoggedIn, syncStateWithServer, user } = appStore;\n  const syncApiUrl = user?.api?.syncApiUrl;\n  const delay = syncApiUrl ? 0 : 1500;\n  const [syncApiUrlInState, setSyncApiUrlInState] = useState(syncApiUrl);\n\n  useEffect(() => {\n    if (!isLoggedIn) {\n      document.body.classList.add('login', 'bg-dark');\n    } else {\n      document.body.classList.remove('login', 'bg-dark');\n    }\n    if (isLoggedIn && (!controlsInitialized || syncApiUrlInState !== syncApiUrl)) {\n      syncStateWithServer(delay, syncApiUrl);\n      if (syncApiUrlInState !== syncApiUrl) {\n        setSyncApiUrlInState(syncApiUrl);\n      }\n    }\n  }, [controlsInitialized, isLoggedIn, syncApiUrl, syncStateWithServer, delay, syncApiUrlInState]);\n\n  return (\n    <div className={`App${!isLoggedIn ? ' login' : ''}`}>\n      <Switch>{isLoggedIn && <Header />}</Switch>\n      <div className=\"content-wrapper\">\n        <Switch>\n          <PrivateRoute\n            component={Account}\n            controlsInitialized={controlsInitialized}\n            exact\n            isLoggedIn={isLoggedIn}\n            path=\"/account\"\n          />\n          <PrivateRoute\n            component={Dashboard}\n            controlsInitialized={controlsInitialized}\n            exact\n            isLoggedIn={isLoggedIn}\n            path=\"/\"\n          />\n          <PrivateRoute\n            component={Api}\n            controlsInitialized={controlsInitialized}\n            isLoggedIn={isLoggedIn}\n            path=\"/api\"\n          />\n          <PrivateRoute\n            component={Lights}\n            controlsInitialized={controlsInitialized}\n            isLoggedIn={isLoggedIn}\n            path=\"/lights\"\n          />\n          <PrivateRoute\n            component={Weather}\n            controlsInitialized={controlsInitialized}\n            isLoggedIn={isLoggedIn}\n            path=\"/weather\"\n          />\n          <Route path=\"/login\" component={Login} />\n          <Route path=\"/register\" component={Register} />\n          <Route component={Error404} />\n        </Switch>\n      </div>\n      <Footer />\n    </div>\n  );\n}\n\nexport default inject('store', 'routing')(observer(App));\n","// Styles\nimport './scss/index.scss';\n\n// Vendors\nimport 'mobx-react-lite/batchingForReactDom';\n\nimport { Provider } from 'mobx-react';\nimport { RouterStore } from 'mobx-react-router';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\nimport { HashRouter } from 'react-router-dom';\n\n// Components\nimport App from './App';\nimport store from './store';\n\n// Routing\nconst routingStore = new RouterStore();\n\n// Store\nconst storeInstance = new store();\n\nReactDOM.render(\n  <Provider routing={routingStore} store={storeInstance}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>,\n  document.getElementById('root') as HTMLElement\n);\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}